\chapter{}
\chapter{}

\chapter{}


\topic{The Yang--Baxter equation}

We now briefly discuss set-theoretic solutions to the Yang--Baxter equation. 

\begin{definition}
\index{Solution}
\index{Solution!finite}
A \emph{set-theoretic solution} to the Yang--Baxter equation (YBE) is a pair $(X,r)$, 
where $X$ is a non-empty set and $r\colon X\times X\to X\times X$ is a bijective map that satisfies 
\[
(r\times\id)(\id\times r)(r\times\id)=
(\id\times r)(r\times\id)(\id\times r),
\]
where, if $r(x,y)=(\sigma_x(y),\tau_y(x))$, then 
\begin{align*}
& r\times\id\colon X\times X\times X\to X\times X\times X, &&(r\times\id)(x,y,z)=(\sigma_x(y),\tau_y(x),z),\\
& \id\times r\colon X\times X\times X\to X\times X\times X, &&(\id\times r)(x,y,z)=(x,\sigma_y(z),\tau_z(y)).
\end{align*}
The solution $(X,r)$ is said to be \emph{finite} if $X$ is a finite set. 
\end{definition}

\begin{figure}
\centering
\begin{tikzpicture}
\pic[
  braid/.cd,
  number of strands=3,
  height=.5cm,
  width=.5cm,
  ultra thick,
  gap=0.1,
  name prefix=braid,
] {braid={a_{1}a_2a_1}};
\end{tikzpicture}
\hspace{1cm}
\begin{tikzpicture}
\pic[
  braid/.cd,
  number of strands=3,
  height=.5cm,
  width=.5cm,
  ultra thick,
  gap=0.1,
  name prefix=braid,
] {braid={a_{2}a_1a_2}};
\end{tikzpicture}
\caption{The Yang--Baxter equation.}
\label{fig:braid}
\end{figure}


\begin{example}
Let $X$ be a non-empty set. Then $(X,\id)$ is a set-theoretic 
solution to the YBE. 	
\end{example}

\begin{example}
\index{Solution!trivial}
Let $X$ be a non-empty set. Then $(X,r)$, where $r(x,y)=(y,x)$, is a  set-theoretic solution to the YBE. This solution 
is known as the \emph{trivial solution} over the set $X$. 
\end{example}

By convention, we write
\[
r(x,y)=(\sigma_x(y),\tau_y(x)).
\]

\begin{lemma}
    \label{lem:YB}
    Let $X$ be a non-empty set and $r\colon X\times X\to X\times X$ be a bijective map.
    Then $(X,r)$ is a set-theoretic solution to the YBE if and only if 
    \begin{align*}
        &\sigma_x\sigma_y = \sigma_{\sigma_x(y)}\sigma_{\tau_y(x)},&
        &\sigma_{\tau_{\sigma_y(z)}(x)}\tau_z(y)=\tau_{\sigma_{\tau_y(x)}(z)}\sigma_x(y),&
        &\tau_z\tau_y=\tau_{\tau_z(y)}\tau_{\sigma_y(z)}
    \end{align*}
    for all $x,y,z\in X$. 
\end{lemma}

\begin{proof}
    We write $r_1=r\times\id$ and $r_2=\id\times r$. We first compute
    \begin{align*}
        r_1r_2r_1(x,y,z)&=r_1r_2(\sigma_x(y),\tau_y(x),z)
        =r_1(\sigma_x(y),\sigma_{\tau_y(x)}(z),\tau_z\tau_y(x))\\
        &=\left(\sigma_{\sigma_x(y)}\sigma_{\tau_y(x)}(z),\tau_{\sigma_{\tau_y(x)}(z)}\sigma_x(y),\tau_z\tau_y(x)\right).
    \end{align*}
    Then we compute
    \begin{align*}
        r_2r_1r_2(x,y,z)&=r_2r_1(x,\sigma_y(z),\tau_z(y))
        =r_2(\sigma_x\sigma_y(z),\tau_{\sigma_y(z)}(x),\tau_z(y))\\
        &=\left(\sigma_x\sigma_y(z),\sigma_{\tau_{\sigma_y(z)}(x)}\tau_z(y),\tau_{\tau_z(y)}\tau_{\sigma_y(z)}(x)\right)
    \end{align*}
    and the claim follows.    
\end{proof}

If $(X,r)$ is a set-theoretic solution, by definition the map $r\colon X\times X\to X\times X$ is 
invertible. By convention, we write 
 \[
 r^{-1}(x,y)=(\widehat{\sigma}_x(y),\widehat{\tau}_y(x)).
 \]
 Note that this implies that
 \[
 x=\widehat{\sigma}_{\sigma_x(y)}\tau_y(x),\quad
 y=\widehat{\tau}_{\tau_y(x)}\sigma_x(y).
 \]
 It is easy to check that $(X,r^{-1})$ is a set-theoretic solution to the YBE. Thus Lemma~\ref{lem:YB} implies that 
 the following formulas hold:
 \[
 \widehat{\tau}_y\widehat{\tau_x}=\widehat{\tau}_{\tau_y(x)}\widehat{\tau}_{\sigma_x(y)},
 \quad
 \widehat{\sigma}_x\widehat{\sigma_y}=\widehat{\sigma}_{\sigma_x(y)}\widehat{\sigma}_{\tau_y(x)}.
 \]
% Since $r(\tau^{-1}_y(x),y)=(\sigma_{\tau^{-1}_y(x)}(y),x)$, 
% it follows that 
% \[
% \widehat{\tau}_x\sigma_{\tau^{-1}_y(x)}(y)=y.
% \]
% for all $x,y\in X$. Moreover, 
% \[
% x\triangleright y=\tau_x\sigma_{\tau^{-1}_y(x)}(y)=\tau_x\widehat{\tau}^{-1}_x(y)
% \]
% for all $x,y\in X$. 

\begin{example}
Let $X=\{1,2,3,4\}$ and $r(x,y)=(\sigma_x(y),\tau_y(x))$, where
\begin{align*}
&\sigma_1=(132),&&
\sigma_2=(124),&&
\sigma_3=(143),&&
\sigma_4=(234),\\
&\tau_1=(12)(34),&&
\tau_2=(12)(34),&&
\tau_3=(12)(34),&&
\tau_4=(12)(34).
\end{align*}
Then $r$ is invertible with $r^{-1}(x,y)=(\widehat{\sigma}_x(y),\widehat{\tau}_y(x))$ given by
\begin{align*}
&\widehat{\sigma}_1=(12)(34), &&
\widehat{\sigma}_2=(12)(34), &&
\widehat{\sigma}_3=(12)(34), &&
\widehat{\sigma}_4=(12)(34),\\
&\widehat{\tau}_1=(142),&&
\widehat{\tau}_2=(123),&&
\widehat{\tau}_3=(243),&&
\widehat{\tau}_4=(134).
\end{align*}
\end{example}

\begin{definition}
A \emph{homomorphism} between the set-theoretic solutions $(X,r)$ and
$(Y,s)$ is a map $f\colon X\to Y$ such that the diagram 
\[\begin{tikzcd}
	{X\times X} & {X\times X} \\
	{Y\times Y} & {Y\times Y}
	\arrow["r", from=1-1, to=1-2]
	\arrow["{f\times f}"', from=1-1, to=2-1]
	\arrow["{f\times f}", from=1-2, to=2-2]
	\arrow["s"', from=2-1, to=2-2]
\end{tikzcd}
\]
is commutative, that is $s (f\times f)=(f\times f) r$. An \emph{isomorphism} of solutions is a bijective
homomorphism of solutions.
\end{definition}

Since we are interested in studying the combinatorics behind set-theoretic solutions to the YBE,
it makes sense to study the following family of solutions. 

\begin{definition}
\index{Solution!non-degenerate}
We say that a set-theoretic solution $(X,r)$ to the YBE 
is \emph{non-degenerate} if the maps $\sigma_x$ and $\tau_x$ are 
permutations of $X$. 
\end{definition}

By convention, a \emph{solution} we will mean a non-degenerate {\bf set-theoretic} solution to the YBE.

\begin{lemma}
\label{lem:LYZ}
Let $(X,r)$ be a solution. 
\begin{enumerate}
    \item Given $x,u\in X$, there exist unique $y,v\in X$ such that $r(x,y)=(u,v)$. 
    \item Given $y,v\in X$, there exist unique $x,u\in X$ such that $r(x,y)=(u,v)$. 
\end{enumerate}
\end{lemma}

\begin{proof}
    For the first claim take $y=\sigma_x^{-1}(u)$ and $v=\tau_y(x)$. 
    For the second, $x=\tau_y^{-1}(v)$ and $u=\sigma_x(y)$. 
\end{proof}

The bijectivity of $r$ means that any row determines the whole square. Lemma~\ref{lem:LYZ}
means that any column also determines the whole square, see Figure~\ref{fig:square}.

\begin{figure}
\centering
\begin{tikzpicture}
\pic[
  braid/.cd,
  number of strands=2,
  ultra thick,
  gap=0.1,
  name prefix=braid,
] {braid={a_{1}^{-1}}};
\node[] at (-.25,-.12) {$x$};
\node[] at (1.25,-.12) {$y$};
\node[] at (-.25,-1.4) {$u$};
\node[] at (1.25,-1.4) {$v$};
\node[] at (-.25,-.75) {$r$};
\end{tikzpicture}
\begin{tikzpicture}
\pic[
  braid/.cd,
  number of strands=2,
  ultra thick,
  gap=0.1,
  name prefix=braid,
] {braid={a_{1}}};
\node[] at (-.25,-.12) {$x$};
\node[] at (1.25,-.12) {$y$};
\node[] at (-.25,-1.4) {$u$};
\node[] at (1.25,-1.4) {$v$};
\node[] at (-.25,-.75) {$r^{-1}$};
\end{tikzpicture}
\caption{Any row or column determines the whole square.}
\label{fig:square}
\end{figure}

\begin{example}
If the map $(x,y)\mapsto(\sigma_x(y),\tau_y(x))$ satisfies the Yang--Baxter equation, then 
so does $(x,y)\mapsto (\tau_x(y),\sigma_y(x))$. 
\end{example}

\begin{example}
\label{exa:Lyubashenko}
Let $X$ be a non-empty set and $\sigma$ and $\tau$ be 
bijections on $X$ such that $\sigma\circ\tau=\tau\circ\sigma$. Then 
$(X,r)$, where $r(x,y)=(\sigma(y),\tau(x))$, is a non-degenerate solution. 
This is known as the \emph{permutation solution} associated
with permutations $\sigma$ and $\tau$. 
%The solution $(X,r)$ is involutive 
%if and only if $\tau^{-1}=\sigma$. 
\end{example}
%
%\begin{example}
%\label{exa:Wada}
%Let $G$ be a group. Then $(G,r)$, where $r(x,y)=(xy^{-1}x^{-1},xy^2)$, is a solution. 
%\end{example}

\begin{example}
\label{exa:Venkov}
Let $G$ be a group. Then $(G,r)$, where $r(x,y)=(xyx^{-1},x)$, is a solution. 
\end{example}

\begin{example}
Let $n\geq2$ and $X=\Z/(n)$ be the ring of integers modulo $n$. Then 
$(X,r)$, where $r(x,y)=(2x-y,x)$, is a solution.
\end{example}

\begin{theorem}[Lu--Yan--Zhu]
\label{thm:LYZ}
Let $G$ be a group, $\xi\colon G\times G\to G$, $\xi(x,y)=x\rhd y$,
be a left action of the group $G$ on itself as a set and 
$\eta\colon G\times G\to G$, $\eta(x,y)=x\lhd y$, 
be a right action of the group $G$ on itself as a set. If the compatibility condition
\[
uv=(u\rhd v)(u\lhd v)
\]
holds for all $u,v\in G$, then the pair $(G,r)$, where 
\[
r\colon G\times G\to G\times G,\quad
r(u,v)=(u\rhd v,u\lhd v)
\]
is a solution. Moreover, 
if $r(x,y)=(u,v)$, then 
\[
r(x^{-1},y^{-1})=(u^{-1},v^{-1}),
\quad
r(x^{-1},u)=(y,v^{-1}),
\quad
r(v,y^{-1})=(u^{-1},x).
\]
\end{theorem}

\begin{proof}
We write $r_1=r\times\id$ and $r_2=\id\times r$. Let
\[
r_1r_2r_1(u,v,w)=(u_1,v_1,w_1),\quad
r_2r_1r_2(u,v,w)=(u_2,v_2,w_2).
\]
The compatibility condition implies that $u_1v_1w_1=u_2v_2w_2$. 
So we need to prove that $u_1=u_2$ and $w_1=w_2$. We note that
\begin{align*}
&u_1=(u\rhd v)\rhd ( (u\lhd v)\rhd w),
&&w_1=(u\lhd v)\lhd w,\\
&u_2=u\rhd (v\rhd w),
&&w_2=(u\lhd (v\rhd w))\lhd (v\lhd w).
\end{align*}
Using the compatibility condition and the fact that $\xi$ is a left action, 
\begin{align*}
    &u_1=((u\rhd v)(u\lhd v))\rhd w=(uv)\rhd w=u\rhd (v\rhd w)=u_2.
\end{align*}
Similarly, since $\eta$ is a right action, 
\[
w_2=u\lhd ((v\rhd w)(v\lhd w))=u\lhd (vw)=(u\lhd v)\lhd w=w_1.
\]

To prove that $r$ is invertible we proceed as follows. 
Write $r(u,v)=(x,y)$, thus $u\rhd v=x$, $u\lhd v=y$ and $uv=xy$. Since 
\begin{align*}
& (y\rhd v^{-1})u=(y\rhd v^{-1})(y\lhd v^{-1})=yv^{-1}=x^{-1}u,
\end{align*}
it follows that $y\rhd v^{-1}=x^{-1}$, i.e. $v^{-1}=y^{-1}\rhd x^{-1}$. Similarly, 
\[
v(u^{-1}\lhd x)=(u^{-1}\rhd x)(u^{-1}\lhd x)=u^{-1}x=vy^{-1}
\]
implies that $u^{-1}=y^{-1}\lhd x^{-1}$. Clearly 
$r^{-1}=\zeta (i\times i) r (i\times i) \zeta$,
is the inverse of $r$, where $\zeta(x,y)=(y,x)$ and $i(x)=x^{-1}$. 
\end{proof}

\begin{proposition}
Under the assumptions of Theorem~\ref{thm:LYZ}, 
if $r(x,y)=(u,v)$, then 
\[
r(v^{-1},u^{-1})=(y^{-1},x^{-1}),
\quad
r(x^{-1},u)=(y,v^{-1}),
\quad
r(v,y^{-1})=(u^{-1},x).
\]
\end{proposition}

\begin{proof}
In the proof of Theorem~\ref{thm:LYZ} we found that 
the inverse of the map $r$ is given by $r^{-1}=\zeta (i\times i) r (i\times i) \zeta$,
where $\zeta(x,y)=(y,x)$ and $i(x)=x^{-1}$. Hence 
\[
r^{-1}(y^{-1},x^{-1})=\zeta (i\times i) r (i\times i) \zeta(y^{-1},x^{-1})=\zeta (i\times i) r (x,y)=(v^{-1},u^{-1}).
\]
It follows that $r(v^{-1},u^{-1})=(y^{-1},x^{-1})$.  
To prove the equality $r(x^{-1},u)=(y,v^{-1})$ we proceed as follows. Since $r(x,y)=(u,v)$, it 
follows that $x\triangleright y=u$. Then $x^{-1}\triangleright u=y$ and
hence $r(x^{-1},u)=(y,z)$ for some $z\in G$. 
Since $xy=uv$ and $x^{-1}u=yz$, it immediately follows that $yt=yv^{-1}$. Then 
$z=v^{-1}$. Similarly one proves $r(v,y^{-1})=(u^{-1},x)$.
\end{proof}
%
%\begin{proposition}
%Under the assumptions of Theorem~\ref{thm:LYZ}, 
%if $r(x,y)=(u,v)$, then 
%\[
%r(x^{-1},y^{-1})=(u^{-1},v^{-1}),
%\quad
%r(x^{-1},u)=(y,v^{-1}),
%\quad
%r(v,y^{-1})=(u^{-1},x).
%\]
%\end{proposition}
%
%\begin{proof}
%In the proof of Theorem~\ref{thm:LYZ} we found that 
%the inverse of the map $r$ is given by $r^{-1}=\zeta (i\times i) r (i\times i) \zeta$,
%where $\zeta(x,y)=(y,x)$ and $i(x)=x^{-1}$. It follows that $r(x^{-1},y^{-1})=(u^{-1},v^{-1})$.  
%To prove the equality $r(x^{-1},u)=(y,v^{-1})$ we proceed as follows. Since $r(x,y)=(u,v)$, it 
%follows that $x\triangleright y=u$. Then $x^{-1}\triangleright u=y$ and
%hence $r(x^{-1},u)=(y,z)$ for some $z\in G$. 
%Since $xy=uv$ and $x^{-1}u=yz$, it follows that $yt=yv^{-1}$. Then 
%$z=v^{-1}$. Similarly one proves $r(v,y^{-1})=(u^{-1},x).$
%\end{proof}



\topic{Radical rings and solutions}

Let $S$ be a non-unitary ring. Consider $S_1=\Z\times S$ with the addition defined component-wise and  multiplication
\[
(k,a)(l,b)=(kl,kb+la+ab)
\]
for all $k,l\in\Z$ and $a,b\in S$. 
Then $S_1$ is a ring and $(1,0)$ is its unit element. 
Furthermore, $\{0\}\times S$ is an ideal of $S_1$. 
Note that $\{0\}\times S\simeq S$ as non-unitary rings. Also 
note that if $(k,x)\in S_1$ is invertible, 
then $k\in\{-1,1\}$. 

\begin{definition}
    A non-unitary ring $S$ is a (Jacobson) \textbf{radical ring} 
    if it is isomorphic to the Jacobson radical of a unitary ring.
\end{definition}

Let $R$ be a ring. The (Jacobson) \textbf{radical} $J(R)$ of $R$ is defined as the intersection
of all maximal left ideals of $R$. One proves that $J(R)$ is an ideal of $R$. Moreover, 
$x\in J(R)$ if and only if $1+rx$ is invertible for all $r\in R$.

\begin{proposition}
\label{pro:radical}
	Let $S$ be a non-unitary ring. The following statements are equivalent.
	\begin{enumerate}
		\item $S$ is a radical ring.
		\item For all $a\in S$ there exists a unique $b\in S$ such that $a+b+ab=a+b+ba=0$.
		\item $S\simeq J(S_1)$. 
	\end{enumerate}
\end{proposition}  
	
\begin{proof}
    Let us first prove that $1)\implies2)$. Let $R$ be a unitary ring such that 
    $S\simeq J(R)$ and let $\psi\colon S\rightarrow R$ be an injective homomorphism 
    of non-unitary rings $\psi(S)=J(R)$. Let $a\in S$. Since  
    $1+\psi(a)\in R$ is invertible, there exists $c\in R$ such that 
    \[
    (1+\psi(a))(1+c)=(1+c)(1+\psi(a))=1.
    \]
    Thus 
    $c=-\psi(a)c-\psi(a)\in J(R)$. 
    Hence there exists $b\in S$ such that $\psi(b)=c$. Therefore 
    \[
    a+b+ab=a+b+ba=0.
    \]
    It is an exercise to prove that $b$ is unique. 
    
    We now prove that $2)\implies 3)$. We first note that if 
    $a\in S$, then there exists $b\in S$ such that $a+b+ab=a+b+ba=0$. 
    Thus every 
    $(1,a)\in S_1$ is invertible, as 
    \[
    (1,a)(1,b)=(1,0)=(1,b)(1,a).
    \]

    We claim that $J(S_1)=\{0\}\times S$. Let us prove that 
    $J(S_1)\supseteq \{0\}\times S$. If $(k,a)\in J(S_1)$, then, in particular, 
    \[
    (1+3k,3a)=(1,0)+(3,0)(k,a)
    \]
    is invertible, which implies that either $1+3k=1$ or $1+3k=-1$. Since
    $k\in\Z$, it follows that $k=0$ and hence $(k,a)=(0,a)\in\{0\}\times S$. 
    To prove that 
    $J(S_1)\supseteq \{0\}\times S$ note that
    if $(0,x)\in\{0\}\times S$, then
    \[
    (1,0)+(k,a)(0,x)=(1,kx+ax)
    \]
    is invertible, as $kx+ax\in S$. 
    
    The implication $3)\implies1)$ is trivial.
\end{proof}


A \textbf{nil ring} is a non-unitary ring $S$ such that every 
element of $S$ is nilpotent. Every nil ring is a radical ring.

\begin{example} 
    $X\C[\![X]\!]$ is a radical ring and it is not a nil ring.
\end{example}

Let $S$ be a ring (unitary or non-unitary, it is not important here). 
Define on $S$ the binary operation 
\[
(a,b)\mapsto a\circ b=a+b+ab
\]
for all $a,b\in S$. Then $(S,\circ)$ is a monoid with neutral element $0$.
Note that $S$ is a radical ring if and only if $(S,\circ)$ is a group. 
If $a\in S$ is invertible in the monoid $(S,\circ)$, we will denote by $a'$ its inverse.

\begin{example}
	For $n>1$ let $A=\left\{\frac{nx}{ny+1}:x,y\in\Z\right\}\subseteq \Q$. 
	Note that $A$ is a (non-unitary) subring of $\Q$. In fact, $A$ is a radical ring. A straightforward computation shows that 
	\[
	\left(\frac{nx}{ny+1}\right)'=\frac{-nx}{n(x+y)+1}.
	\]
\end{example}

We now go back to study solutions to the YBE and discuss the intriguing interplay
between radical rings and involutive solutions. 

\begin{definition}
	\index{Solution!involutive}
	A solution $(X,r)$ is said to be \emph{involutive} if $r^2=\id$. 
\end{definition}

Note that if $(X,r)$ is an  involutive solution, then 
\[
(x,y)=r^2(x,y)=r(\sigma_x(y),\tau_y(x))=(\sigma_{\sigma_x(y)}\tau_y(x),\tau_{\tau_y(x)}\sigma_x(y)).
\]
Hence 
\begin{equation}
	\label{eq:involutive}
	\tau_y(x)=\sigma_{\sigma_x(y)}^{-1}(x),
	\quad
	\sigma_x(y)=\tau_{\tau_y(x)}^{-1}(y)
\end{equation}
for all $x,y\in X$. Thus for involutive solutions
it is enough to know $\{\sigma_x:x\in X\}$, as from this we obtain the
set $\{\tau_x:x\in X\}$.

\begin{example}
	Let $X$ be a non-empty set and $\sigma$ be a bijection on $X$. Then 
	$(X,r)$, where $r(x,y)=(\sigma(y),\sigma^{-1}(x))$, is an involutive solution. 
\end{example}

\index{Jacobson!radical ring}
\index{Radical ring}
We now present a very important family of involutive solutions. 

\begin{theorem}[Rump]
	\label{thm:Rump}
	\index{Rump's theorem}
	Let $R$ be a radical ring. Then $(R,r)$, where 
	\[
	r(x,y)=( -x+x\circ y,(-x+x\circ y)'\circ x\circ y)
	\]
	is an involutive solution.
\end{theorem}

The proposition can demonstrated using Theorem~\ref{thm:LYZ}. We will
prove a more general result later. 

\topic{Braces}

By convention, an additive group $A$ will be a (not necessarily abelian) group 
with a binary operation $(a,b)\mapsto a+b$. The 
identity of $A$ will be denoted by $0$ 
and the inverse of an element $a$ will be denoted by $-a$. 

\begin{definition}
	\index{Brace}
	\index{Brace!multiplicative group}
	\index{Brace!additive group}
	A \emph{brace} is a triple $(A,+,\circ)$, where $(A,+)$ and $(A,\circ)$ 
	are (not necessarily abelian) 
	groups and 
	\begin{equation}
	    \label{eq:compatibility}
	    a\circ(b+c)=(a\circ b)-a+(a\circ c)
	\end{equation}
	holds for all $a,b,c\in A$. The groups 
	$(A,+)$ and $(A,\circ)$ are respectively 
	the \emph{additive} and \emph{multiplicative} group
	of the brace $A$.
\end{definition}

We write $a'$ to denote the inverse of $a$ with respect to the circle operation $\circ$. 

Our definition is that of left braces. 
Right braces are defined similarly, one needs 
to replace~\eqref{eq:compatibility} by 
\[
(a+b)\circ c=a\circ c-c+b\circ c.
\]

\begin{definition}
    Let $\mathcal{X}$ be a family of groups. A brace $A$ is said to be
    of $\mathcal{X}$-type if its additive group belongs to $\mathcal{X}$.
\end{definition}

One particularly interesting family of braces is the family of \emph{braces of
abelian type}, that is braces with abelian additive group.  In the literature,
our braces are called \emph{skew braces} and braces of abelian type are called
\emph{braces}. 

\begin{example}
	\label{exa:trivial}
	\index{Brace!trivial}
	Let $A$ be an additive group. Then $A$ is a brace with
	$a\circ b=a+b$ for all $a,b\in A$. 
	A brace $(A,+,\circ)$ such that $a\circ b=a+b$ for all $a,b\in A$ is
    said to be \emph{trivial}. 
	Similarly, the
   operation $a\circ b=b+a$ turns $A$ into a brace. 
\end{example}

\begin{example}
	\label{exa:times}
	\index{Direct product!of braces}
	Let $A$ and $B$ be braces. Then $A\times B$ with 
	\[
		(a,b)+(a_1,b_1)=(a+a_1,b+b_1),\quad
		(a,b)\circ (a_1,b_1)=(a\circ a_1,b\circ b_1),
	\]
	is a brace. This is the {\em direct product} of the braces $A$ and $B$. 
\end{example}

\begin{example}
	\label{exa:sd}
	Let $A$ and $M$ be additive groups and let $\alpha\colon A\to\Aut(M)$ be a
	group homomorphism. Then $M\times A$ with 
	\[
	(x,a)+(y,b)=(x+y,a+b),
	\quad
	(x,a)\circ (y,b)=(x+\alpha_a(y),a+b)
	\]
	is a brace. Similarly, $M\times A$ with
	\[
	(x,a)+(y,b)=(x+\alpha_a(y),a+b),\quad
	(x,a)\circ (y,b)=(x+y,b+a)
	\]
	is a brace. 
\end{example}

\begin{example}
    \label{exa:WX}
    Let $A$ be an additive group
	and $B$ and $C$ be subgroups of $A$ such that $B\cap C=\{ 0\}$ and $A=B+C$. In this case, one says that $A$ admits an {\em exact factorization} through the subgroups $B$ and $C$.  Thus each $a\in A$ can be written in a unique
	way as $a=b+c$, for some $b\in B$ and $c\in C$.  The map
	\[
		B\times C\to A,\quad
		(b,c)\mapsto b-c,
	\]
	is bijective. Using this map we transport the group structure of 
	$B\times C$ into the set $A$. That is, for $a=b+c\in A$, where $b\in B$ and $c\in C$, and
	$a_1\in A$, let 
	\begin{align*}
		a\circ a_1&=b+a_1+c.
	\end{align*}
	Then $(A,\circ)$ is a group isomorphic to $B\times C$. Moreover, if $x,y\in A$, 
	then 
	\begin{align*}
	a\circ x-a+a\circ y=b+x+c-(b+c)+b+y+c=b+x+y+c=a\circ (x+y),
	\end{align*}
	and therefore $(A,+,\circ)$ is a brace. 
\end{example}

% \begin{proof} The map $\eta\colon B\times C\to A$, $\eta(b,c)=bc^{-1}$, is
%   bijective.  Since $\eta$ is bijective and $a\circ
%   a'=\eta(\eta^{-1}(a)\eta^{-1}(a'))$, it follows that $(A,\circ)$ is a group
%   isomorphic to the direct product $B\times C$. To prove that $A$ is a 
%   brace it remains to show~\eqref{eq:compatibility}. Let $a=bc\in BC$ and
%   $a',a''\in A$. Then \begin{align*} (a\circ a')a^{-1}(a\circ a'')
%     &=(ba'c)a^{-1}(ba''c)\\ &=ba'c(c^{-1}b^{-1})ba''c\\ &=ba'a''c\\ &=a\circ
%     (a'a'').  \end{align*} This completes the proof.  \end{proof}

We now give concrete some examples of the previous construction. 

\begin{example}
  \label{exa:QR}
  Let $n$ be a positive integer. 
  The group $\GL_n(\C)$ admits an
  exact factorization through the subgroups $U(n)$ and $T(n)$, where 
  \[
  U(n)=\{ A\in\GL_n(\C): AA^*=I\}
  \]
  is the unitary group and $T(n)$ is the group of upper triangular matrices
  with positive diagonal entries.  Therefore there exists a brace with additive group 
  isomorphic to $\GL_n(\C)$ and multiplicative group isomorphic to $U(n)\times T(n)$.  
\end{example}

The following examples appeared in the theory of 
Hopf--Galois structures.

\begin{example} 
	\label{exa:a5a4c5}
	The alternating simple group $\Alt_5$ admits an exact factorization
  through the subgroups 
  $A=\langle (123),(12)(34)\rangle\cong\Alt_4$ and 
  $B=\langle(12345)\rangle\cong C_5$.  
  There exists a brace with additive group isomorphic to $\Alt_5$ and multiplicative
  group isomorphic to $\Alt_4\times C_5$. 
\end{example}

Let us review some basic properties of braces. 

\begin{exercise}
\label{xca:0=1}
Let $A$ be a brace. Then the following properties hold:
\begin{enumerate}
    \item The neutral element of the additive group of $A$ coincides with 
    the neutral element of the multiplicative group of $A$. It will be denoted
    by $0$. 
    \item $a\circ(-b+c)=a-(a\circ b)+(a\circ c)$, for all $a,b,c\in A$.
    \item $a\circ(b-c)=(a\circ b)-(a\circ c)+a$, for all $a,b,c\in A$.
\end{enumerate}
\end{exercise}

\begin{exercise}
\label{xca:lambda}
    Let $A$ be a brace. For each $a\in A$, the map
    \[
        \lambda_a\colon A\to A,\quad
        b\mapsto -a+(a\circ b),
    \]
    is an automorphism of $(A,+)$. Moreover, the map 
    $\lambda\colon (A,\circ)\to\Aut(A,+)$, $a\mapsto\lambda_a$, is a group homomorphism. 
\end{exercise}

\begin{exercise}
\label{xca:mu}
    Let $A$ be a brace. For each $a\in A$, the map
    \[
        \mu_a\colon A\to A,\quad
        b\mapsto \lambda_b(a)'\circ b\circ a,
    \]
    is bijective. Moreover, the map 
    $\mu\colon (A,\circ)\to\Sym_A$, $a\mapsto\mu_a$, satisfies $\mu_b\circ\mu_a=\mu_{a\circ b}$, for all $a,b\in A$. 
\end{exercise}

Let $A$ be a brace. 
Exercise \ref{xca:lambda} implies that 
\begin{align}
\label{eq:formulas}
&a\circ b = a+\lambda_a(b),
&&a+b=a\circ \lambda^{-1}_a(b),
&&\lambda_a(a')=-a
\end{align}
hold for $a,b\in A$. Moreover, if 
\[
    a*b=\lambda_a(b)-b=-a+a\circ b-b,
\]
then the following identities are easily verified:
\begin{align}
&a*(b+c)=a*b+b+a*c-b,\\
&(a\circ b)*c=(a*(b*c))+b*c+a*c.
\end{align}

 \begin{definition}
 	\index{Homomorphism!of braces}
 	A map $f\colon A\to B$ between two braces $A$ and $B$ is a {\em homomorphism of braces} 
 	if $f(x\circ y)=f(x)\circ f(y)$ and $f(x+y)=f(x)+f(y)$ for all $x,y\in A$.  The \emph{kernel} of $f$ is
     \[
         \ker f=\{a\in A:f(a)=0\}.
     \]
 \end{definition}

A bijective homomorphism of braces is an isomorphism. An automorphism of a brace $A$ is an isomorphism from the brace $A$ to it self. Two braces $A$ and $B$ are isomorphic if there exist an isomorphism $f\colon A\rightarrow B$. We write $A\simeq B$ to denote that the braces $A$ and $B$ are isomorphic.

\begin{definition}
    \index{Brace!two sided}
	A brace $A$ is said to be \textbf{two-sided} if 
	\begin{equation}
	\label{eq:right_compatibility}
	(a+b)\circ c=a\circ c-c+b\circ c
	\end{equation}
	holds for all $a,b,c\in A$. 
\end{definition}

If $A$ is a two-sided brace, then 
\begin{align}
\label{eq:2sided}
&a\circ(-b)=a-a\circ b+a,
&&(-a)\circ b=b-a\circ b+b    
\end{align}
hold for all $a,b\in A$. The first equality holds for every brace and follows 
from the compatibility condition. 
The second equality follows from~\eqref{eq:right_compatibility}. 

\begin{example}
  Any brace with abelian multiplicative group is 
  two-sided.
\end{example}

\begin{exercise}
\label{xca:2sided}
	Let $A$ be a brace of abelian type such that $\lambda_a(a)=a$ for all $a\in A$.
	Prove that $A$ is two-sided.
\end{exercise}

\index{Jacobson!radical ring}
\index{Radical ring}
Two-sided braces of abelian type form an interesting family of non-unitary rings.
Thus braces form a far reaching generalization of radical rings. 

\begin{theorem}[Rump]
\label{thm:radical}
\index{Rump's theorem}
    A brace of abelian type is two-sided if and only if it is a radical ring. 
\end{theorem}

\begin{proof}
    Assume first that $A$ is a two-sided brace of abelian type. Then $(A,+)$ is an abelian group. 
    Let us prove that the operation
    \[
    a*b=-a+a\circ b-b
    \]
    turns $A$ into a radical ring. Left distributivity follows from the compatibility condition:
    \begin{align*}
    a*(b+c)&=-a+a\circ (b+c)-(b+c)
    =-a+a\circ b-a+a\circ c-c-b=a*b+a*c.
    \end{align*}
    Similarly, since $A$ is two-sided, one proves $(a+b)*c=a*c+b*c$. It remains to show that the operation $*$
    is associative. On the one hand, using the first equality of~\eqref{eq:2sided} 
    and the compatibility condition, we write
    \begin{align*}
    a*(b*c)&=a*(-b+b\circ c-c)\\
    &=-a+a\circ(-b+b\circ c-c)-(-b+b\circ c-c)\\
    &=-a+a\circ (-b)-a+a\circ(b\circ c)-a+a\circ (-c)+c-b\circ c+b\\
    &=a\circ (b\circ c)-a\circ b-a\circ c-b\circ c+a+b+c,
    \end{align*}
    since the group $(A,+)$ is abelian. On the other hand, the second equality of~\eqref{eq:2sided} and
    Equality~\eqref{eq:right_compatibility} imply that
    \begin{align*}
    (a*b)*c &= (-a+a\circ b-b)*c=-(-a+a\circ b-b)+(-a+a\circ b-b)\circ c-c\\
    &=b-a\circ b+a+(-a)\circ c-c+(a\circ b)\circ c-c+(-b)\circ c-c\\
    &=(a\circ b)\circ c-a\circ b-a\circ c-b\circ c+a+b+c.
    \end{align*}
    It then follows that the operation $*$ is associative. 
    
    Conversely, if $A$ is a radical ring, say with ring multiplication $(a,b)\mapsto ab$, 
    then $a\circ b=a+ab+b$ turns $A$ into a two-sided brace 
    of abelian type. In fact, since $A$ is a radical ring, then 
    $(A,+)$ is an abelian group and $(A,\circ)$ is a group. Moreover, 
    \begin{align*}
        a\circ (b+c)=a+a(b+c)+(b+c)=a+ab+ac+b+c=a\circ b-a+a\circ c.
    \end{align*}
    Similarly ones proves $(a+b)\circ c=a\circ c-c+b\circ c$.
\end{proof}

A natural question arises: Does one need radical rings? Surprisingly, 
radical rings are just the tip of the iceberg. 

\begin{theorem}
\label{thm:YB}
Let $A$ be a brace. Then 
$(A,r)$, where 
\[
r\colon A\times A\to A\times A,\quad
r(x,y)=( -x+x\circ y,(-x+x\circ y)'\circ x\circ y),
\]
is a solution to the YBE. 
\end{theorem}

\begin{proof}
    By Theorem~\ref{thm:LYZ}, 
    since $x\circ y=(-x+x\circ y)\circ ((-x+x\circ y)'\circ x\circ y)$ for all $x,y\in A$, 
    we only need to check that 
    $x\rhd y=\lambda_x(y)=-x+x\circ y$ 
    is a left action of $(A,\circ)$ on the set $A$ 
    and that $x\lhd y=\mu_y(x)=(-x+x\circ y)'\circ x\circ y$ 
    is a right action of $(A,\circ)$ on the set $A$. For the left action we use 
    Exercise~\ref{xca:lambda} and for the right action we use Exercise~\ref{xca:mu}.
\end{proof}

\begin{exercise}
Let $A$ be a brace. 
Prove that 
\[
\mu_b(a)=\lambda^{-1}_{\lambda_a(b)}(-a\circ b+a+a\circ b).
\]
\end{exercise}

In Theorem~\ref{thm:YB} it is possible to prove that the solution 
is involutive if and only if the additive group of the brace is abelian. We will
prove a generalization of this result. For that purpose, we need a lemma. 

\begin{lemma}
\label{lem:|r|}
Let $A$ be a brace and $r$ be its associated solution.  Then
  \begin{align} 
  \nonumber
  r^{2n}(a,b)&=(-n(a\circ b)+a+n(a\circ
    b),\\
    \label{eq:r^2n}
    &\phantom{=(-n(a\circ b)+}(-n(a\circ b)+a+n(a\circ b))'\circ a\circ b),\\
  \nonumber
  r^{2n+1}(a,b)&=(-n(a\circ b)-a+(n+1)(a\circ
    b),\\
    \label{eq:r^2n+1}
    &\phantom{=(-n(a\circ b)+}(-n(a\circ b)-a+(n+1)(a\circ b))'\circ a\circ b),
    \end{align} 
    for all $n\geq0$.  Moreover, the following statements hold:
  \begin{enumerate} 
  \item $r^{2n}=\id$ if and only if $a+nb=nb+a$ for all $a,b\in A$.  
      \item $r^{2n+1}=\id$ if and only if $\lambda_a(b)=n(a\circ
	b)+a-n(a\circ b)$ for all $a,b\in A$.  
	\end{enumerate} 
\end{lemma}

\begin{proof} 
First we shall prove~\eqref{eq:r^2n} and~\eqref{eq:r^2n+1} by induction on $n$. The case $n=0$ is trivial for~\eqref{eq:r^2n}
  and~\eqref{eq:r^2n+1}. Assume that the claim holds for some $n\geq 0$. By applying the map $r$ to Equation~\eqref{eq:r^2n+1} 
  we obtain that 
  \begin{align*} 
  r^{2(n+1)}(a,b) &=r\left( -n(a\circ b)-a+(n+1)(a\circ b),\right.\\
    &\phantom{=(-n(a\circ b)+} \left. (-n(a\circ b)-a+(n+1)(a\circ
    b))'\circ a\circ b\right)\\
    &=\left( -(n+1)(a\circ b)+a+(n+1)(a\circ b),\right.\\
    &\phantom{=(-n(a\circ b)+} \left. (-(n+1)(a\circ b)+a+(n+1)(a\circ
    b))'\circ a\circ b\right).
    \end{align*} 
    By applying $r$ again to this equality, we get 
    \begin{align*} 
  r^{2(n+1)+1}(a,b) &= r\left(-(n+1)(a\circ b)+a+(n+1)(a\circ
    b),\right.\\
    &\phantom{=(-n(a\circ b)+} \left. (-(n+1)(a\circ b)+a+(n+1)(a\circ b))'\circ a\circ b\right)\\
    &=\left( -(n+1)(a\circ b)-a+(n+2)(a\circ b),\right.\\
    &\phantom{=(-n(a\circ b)+} \left. (-(n+1)(a\circ b)-a+(n+2)(a\circ
    b))'\circ a\circ b\right).
    \end{align*} 
   Thus Equations~\eqref{eq:r^2n} and~\eqref{eq:r^2n+1} hold by induction.  The other claims follow easily from
    Equations~\eqref{eq:r^2n} and~\eqref{eq:r^2n+1}.
\end{proof}

%\begin{thm} \label{pro:depth_even} Let $A$ be a brace of finite depth
%with more than one element and let $r_A$ be its associated solution. Then the
%order of $r_A$ is an even number.  \end{thm}
%
%\begin{proof} Let $n$ be such that $r^{2n+1}=\id$. By applying
%Lemma~\ref{lem:depth} one obtains that $a^{-1}(a\circ b)^{n+1}=(a\circ b)^na$
%for all $a,b\in A$. In particular, if $b=1$, then $a=1$.  \end{proof}

Recall that the (minimal) \emph{exponent} $\exp(G)$ of a 
finite group $G$ is the least positive integer $n$ such that 
$g^n=1$ for all $g\in G$. 

\begin{theorem} 
\label{thm:|r|} 
  Let $A$ be a finite brace with more than one
  element and let $K$ be the additive group of $A$. 
  If $r$ is the solution associated with $A$, 
  then, as a permutation, $r$ has order $2\exp(K/Z(K))$.
\end{theorem}

\begin{proof} 
  Suppose that $r$ has odd order $2n+1$. Since $r^{2n+1}=\id$, 
  Lemma~\ref{lem:|r|} implies that $-a+(n+1)(a\circ b)=n(a\circ b)+a$
  for all $a,b\in A$. In particular, for $b=0$, we get $a=0$, 
  for all $a\in A$, a contradiction. 
  Therefore we may assume that the order of the permutation $r$ is
  $2n$, where 
  \[
  n=\min\{k\in\Z: k>0\text{ and }kb+a=a+kb\;\text{ for all }a,b\in A\}.
  \]
  Now one computes
  \begin{align*} 
  n&=\min\{k\in\Z: k>0\text{ and }kb\in Z(G)\text{ for all }b\in A\}\\ 
  &=\min\{k\in\Z: k>0\text{ and }k(b+Z(G)) = Z(G)\text{ for all }b\in A\} =\exp(G/Z(G)).\qedhere
  \end{align*}
\end{proof}

An inmmediate consequence is the following result.

\begin{corollary}
    Let $A$ be a finite brace and $r$ be its associated solution. Then 
    $r$ is involutive if and only if $A$ is of abelian type.
    \end{corollary}

% \begin{proof}
%     It follows immediately from Theorem~\ref{thm:|r|}.
% \end{proof}

%\begin{exa} A brace has depth one if and only if its additive group is
%  abelian.  \end{exa}

% \begin{exa} 
%   \label{exa:2p} 
%   Let $p$ be an odd prime number and let $A$ be a non-classical brace of
%   size $2p$. Then the additive group of $A$ is isomorphic to the dihedral group
%   $\D_{2p}$ of size $2p$.  Since $Z(\D_{2p})=1$ and the exponent of $\D_{2p}$
%   is $2p$, the order of $r_A$ is $4p$.
% \end{exa}

\topic{Ideals}

\begin{definition}
\index{Subbrace}
Let $A$ be a brace. A \emph{subbrace} of $A$ is a non-empty 
subset $B$ of $A$ such that $(B,+)$ is a subgroup of $(A,+)$ and $(B,\circ)$ is a subgroup of $(A,\circ)$. 
\end{definition}

\begin{definition}
    \index{Left!ideal}
    \index{Strong!left ideal}
    Let $A$ be a brace. A \emph{left ideal} of $A$ is a subgroup $(I,+)$ of
	$(A,+)$ such that $\lambda_a(I)\subseteq I$ for all $a\in A$, i.e. $\lambda_a(x)\in I$ for all $a\in A$ and $x\in I$. A \emph{strong left ideal} of $A$ 
	is a left ideal $I$ of $A$ such that $(I,+)$ is a normal subgroup of $(A,+)$. 
\end{definition}

\begin{example}
    Let $A$ be a brace and $I$ be a characteristic subgroup 
    of the additive group of $A$. Then 
    $I$ is a left ideal of $A$. 
\end{example}

Recall that two-sided braces of abelian type 
are equivalent to radical rings. 
One can prove that under this equivalence, 
(left) ideals of the radical ring correspond 
to (left) ideals of the associated brace. 

\begin{proposition}
    A left ideal $I$ of a brace $A$ is a subbrace of $A$. 
\end{proposition}

\begin{proof}
    We need to prove that $(I,\circ)$ is a subgroup of $(A,\circ)$. Clearly $I$ is non-empty, 
    as it is an additive subgroup of $A$. If $x,y\in I$, then
    $x\circ y=x+\lambda_x(y)\in I+I\subseteq I$ and $x'=-\lambda_{x'}(x)\in I$. 
\end{proof}

\begin{example}
    Let $A$ be a brace. Then 
    \[
    \Fix(A)=\{a\in A:\lambda_x(a)=a\text{ for all $x\in A$}\}
    \]
    is a left ideal of $A$. 
\end{example}

\begin{definition}
    \index{Ideal}
    An \emph{ideal} of a brace $A$ is a strong left ideal $I$ of $A$ such that 
	$(I,\circ)$ is a normal subgroup of $(A,\circ)$. 
\end{definition}

In general 
\[
\{\text{subbraces}\}\supsetneq \{\text{left ideals}\}\supsetneq\{\text{strong left ideals}\}\supsetneq\{\text{ideals}\}.
\]
For example, $\Fix(A)$ is not a strong left ideal of $A$.

\begin{example}
    Consider the semidirect product $A=\Z/(3)\rtimes \Z/(2)$ of the
    trivial braces $\Z/(3)$ and $\Z/(2)$
    via the non-trivial action of $\Z/(2)$ over $\Z/(3)$.
    Then 
    \[
    \lambda_{(x,y)}(a,b)=-(x,y)+(x,y)\circ(a,b)=-(x,y)+(x+(-1)^ya,y+b)=((-1)^ya,b).
    \]
    Then $\Fix(A)=\{(0,0),(0,1)\}$ is not a 
    normal subgroup of $(A,+)$ and hence $\Fix(A)$ is not a strong left 
    ideal of $A$.
\end{example}

\begin{example}
    \index{Kernel}
	Let $f\colon A\to B$ be a homomorphism of braces. Then $\ker f$ 
	is an ideal of $A$.
\end{example}

If $X$ and $Y$ are subsets of a brace $A$, $X*Y$ is defined as the 
subgroup of $(A,+)$ generated by elements of the form $x*y$, $x\in X$ and $y\in Y$, i.e.
\[
X*Y=\langle x*y:x\in X\,,y\in Y\rangle_+.
\]

\begin{proposition}
    \label{pro:A*I}
    Let $A$ be a brace. A subgroup $I$ of $(A,+)$ is 
    a left ideal of $A$ if and only if $A*I\subseteq I$.
\end{proposition}

\begin{proof}
    Let $a\in A$ and $x\in I$. If $I$ is a
    left ideal, then $a*x=\lambda_a(x)-x\in I$. Conversely, if $A*I\subseteq
    I$, then $\lambda_a(x)=a*x+x\in I$.
\end{proof}

\begin{proposition}
    \label{pro:I*A}
    Let $A$ be a brace. A normal subgroup $I$ of $(A,+)$
    is an ideal of $A$ if and only $\lambda_a(I)\subseteq I$, for all $a\in A$, and
    $I*A\subseteq I$.
\end{proposition}

\begin{proof}
    Let $x\in I$ and $a\in A$.  Assume first that $I$ is invariant under the
    action of $\lambda$ and that $I*A\subseteq I$. Then
    \begin{equation}
    \label{eq:trick:I*A}
        \begin{aligned}
        a\circ x\circ a' &=a+\lambda_a(x\circ a')\\
        &=a+\lambda_a(x+\lambda_x(a'))
        =a+\lambda_a(x)+\lambda_a\lambda_x(a')+a-a\\
        &=a+\lambda_a(x+\lambda_x(a')-a')-a
        =a+\lambda_a(x+x*a')-a\in I,
    \end{aligned}
    \end{equation}
    and hence $I$ is an ideal.

    Conversely, assume that $I$ is an ideal. Then $I*A\subseteq I$ since
    \begin{align*}
        x*a&=-x+x\circ a-a\\
        &=-x+a\circ(a'\circ x\circ a)-a
        =-x+a+\lambda_a(a'\circ x\circ a)-a\in I.\qedhere
    \end{align*}
\end{proof}


Let $I$ and $J$ be ideals
of a brace $A$. Then $I\cap J$ is an ideal of $A$.  
The sum $I+J$ of $I$ and $J$ is defined as the
additive subgroup of $A$ generated by all the 
elements of the form
$u+v$, $u\in I$ and $v\in J$. 

\begin{proposition}
Let $A$ be a brace and let
$I$ and $J$ be ideals of $A$. Then $I+J$ is an ideal of $A$.
\end{proposition}

\begin{proof}
    Since $I$ and $J$ are normal subgroups of $A$, we have that
    \[ I+J=\{ u+v \mid u\in I,\; v\in J \}.\]
    First note that $I+J$ is a normal subgroup of $(A,+)$ since
    \[
        a+(u+v)-a=(a+u-a)+(a+v-a)\in I+J
    \]
    for all $u\in I$, $v\in J$ and $a\in A$.
    Let $a\in A$, $u\in I$ and $v\in J$. Then $\lambda_a(u+v)=\lambda_a(u)+\lambda_a(v)\in I+J$ and
    hence it follows that $\lambda_a(I+J)\subseteq I+J$. Moreover, by Propositions~\ref{pro:A*I} and~\ref{pro:I*A},
        \[
        (u+v)*a=(u\circ\lambda^{-1}_u(v))*a
        =u*(\lambda^{-1}_u(v)*a)+\lambda^{-1}_u(v)*a+u*a\in I+J.
    \]
    Hence $(I+J)*A\subseteq I+J$. Therefore the result follows by Proposition~\ref{pro:I*A}.
\end{proof}


\begin{definition}
	\index{Socle}
	Let $A$ be a brace. The subset 
	$\Soc(A)=\ker\lambda\cap Z(A,+)$
	is the \emph{socle} of $A$.
\end{definition}

We will use the following exercise several times. 

\begin{exercise}
    \label{xca:socle}
    Let $A$ be a brace and $a\in\Soc(A)$. Prove that  
    \[
    b+b\circ a=b\circ a+b\quad\text{and}\quad
    \lambda_b(a)=b\circ a\circ b'
    \]
    hold 
    for all $b\in A$.
\end{exercise}

\begin{exercise}
\label{xca:Bachiller1}
    Prove that the socle of a brace $A$ is the kernel of the 
    group homomorphism $(A,\circ)\to\Aut(A,+)\times\Sym_A$, $a\mapsto (\lambda_a,\mu_a^{-1})$. 
\end{exercise}

\begin{exercise}
\label{xca:Bachiller2}
    Prove that the socle of a brace $A$ is the kernel of the 
    group homomorphism 
    \[
    (A,\circ)\to\Aut(A,+)\times\Aut(A,+),
    \quad
    a\mapsto (\lambda_a,\xi_a),
    \]
    where
    $\xi_a(b)=a+\lambda_a(b)-a$. 
\end{exercise}

\begin{proposition}
	\label{pro:socle}
	Let $A$ be a brace. Then $\Soc(A)$ is an ideal of $A$.
\end{proposition}

	
	\begin{proof}
		Clearly $0\in\Soc(A)$, since $\lambda$ is a group homomorphism. Let $a,b\in\Soc(A)$ and $c\in A$. Since 
		$b\circ (-b)=b+(-b)=0$, it follows that 
		$b'=-b\in\Soc(A)$. The calculation 
		\[
		\lambda_{a-b}(c)=\lambda_{a\circ b'}(c)=\lambda_a\lambda^{-1}_b(c)=c,
		\]
 		implies that $a-b\in\ker\lambda$. Since $a-b\in Z(A,+)$, it follows that 
        $(\Soc(A),+)$ is a normal subgroup of $(A,+)$. 
        
        For each $d\in A$, $a+c'\circ d=c'\circ d+a$.  By Exercise~\ref{xca:socle}, we have 
        \begin{align*}
        d+\lambda_c(a) &= d-c+c\circ a
        =c\circ (c'\circ d+a)\\
        &= c\circ (a+c'\circ d)
        = c\circ a-c+d
        = -c+c\circ a+d
        = \lambda_c(a)+d,
        \end{align*}
        that is $\lambda_c(a)$ is central in $(A,+)$. Moreover, again by Exercise~\ref{xca:socle},
        \begin{align*}
            \lambda_c(a)+d &= -c+c\circ a+d 
            = c\circ a-c+d\\
            &= c\circ (a+(c'\circ d)
            = c\circ a\circ c'\circ d=\lambda_c(a)\circ d
        \end{align*}
        and hence 
        \[
        \lambda_{\lambda_c(a)}(d)=-\lambda_c(a)+\lambda_c(a)\circ d=-\lambda_c(a)+\lambda_c(a)+d=d.
        \]
        Therefore $\Soc(A)$ is a strong left ideal of $A$. In fact, $\Soc(A)$ is an ideal of $A$,
        as $c\circ a\circ c'=\lambda_c(a)\in\Soc(A)$.  
	\end{proof}

As a corollary we obtain that the socle of a 
brace $A$ is a trivial brace of abelian type. 

\begin{proposition}
    \label{pro:soc_kernels}
    Let $A$ be a brace. Then $\Soc(A)=\ker\lambda\cap\ker\mu$.
\end{proposition}

\begin{proof}
    Let $a\in\Soc(A)$ and $b\in A$. Then $\lambda_a=\id$ and $a\in Z(A,+)$. By Exercise~\ref{xca:socle}, \[\mu_a(b)=\lambda_b(a)'\circ b\circ a=(b\circ a\circ b')'\circ b\circ a=b.\]  Thus $a\in\ker\lambda\cap\ker\mu$. 
    
    Conversely, let $a\in\ker\lambda\cap\ker\mu$ and $b\in A$. Then $b'=\mu_a(b')=\lambda_{b'}(a)'\circ b'\circ a$, so
    $\lambda_{b'}(a)=b'\circ a\circ b$. Now 
    \[
    b+a=b\circ\lambda^{-1}_b(a)=b\circ\lambda_{b'}(a)=b\circ b'\circ a\circ b=a\circ b=a+\lambda_a(b)=a+b
    \]
    implies that $a\in\Soc(A)$. 
\end{proof}

\begin{definition}
\index{Annihilator}
Let $A$ be a brace. The \emph{annihilator} of $A$ is 
defined as the set $\Ann(A)=\Soc(A)\cap Z(A,\circ)$. 
\end{definition}

Note that $\Ann(A)\subseteq\Fix(A)$. 

\begin{proposition}
The annihilator of a brace $A$ is an ideal of $A$. 
\end{proposition}

\begin{proof}
    Let $x,y\in\Ann(A)$. Note that $x-y=x\circ y'\in Z(A,\circ)$. Hence $\Ann(A)$ is a subbrace of $A$. Since $\Ann(A)\subseteq Z(A,+)\cap Z(A,\circ)$, 
    we only need to note that $\lambda_a(x)=x\in\Ann(A)$, for all $a\in A$. 
\end{proof}



%Clearly $\Soc(A)=\ker(\lambda)\cap Z(A,+)$. In \cite[Lemma~2.5]{MR3647970} it
%is proved that $\Soc(A)$ is an ideal of $A$.

\index{Quotient brace}
If $A$ is a brace and $I$ is an ideal of $A$, then $a+I=a\circ I$ for all $a\in A$. Indeed, 
$a\circ x=a+\lambda_a(x)\in a+I$ and 
$a+x=a\circ\lambda_a^{-1}(x)=a\circ\lambda_{a'}(x)\in a\circ I$ 
for all $a\in A$ and $x\in I$. 
This allows us to prove that there exists a unique brace structure over $A/I$ such that
the map 
\[
\pi\colon A\to A/I,
\quad
a\mapsto a+I=a\circ I,
\]
is a homomorphism of braces. The brace $A/I$ 
is the \textbf{quotient brace} of $A$ modulo $I$. 

\begin{exercise}
\label{xca:iso1}
    Let $A$ and $B$ be braces and $f\colon A\to B$ be a homomorphism. Prove that $A/\ker f\simeq f(A)$. 
\end{exercise}

\begin{exercise}
\label{xca:iso2}
    Let $A$ be a brace and let $B$ be a subbrace of $A$. Prove that if $I$ is an ideal of $A$, 
    then $B\circ I$ is a subbrace of $A$, 
    $B\cap I$ is an ideal of $B$ and $(B\circ I)/I\simeq B/(B\cap I)$. 
\end{exercise}

\begin{exercise}
\label{xca:iso3}
Let $A$ be a brace and $I$ and $J$ be ideals of $A$. Prove that if $I\subseteq J$, then
$A/J\simeq (A/I)/(J/I)$. 
\end{exercise}

\begin{exercise}
\label{xca:correspondence}
Let $A$ be a brace and let $I$ be an ideal of $A$. Prove that there is a bijective correspondence between (left) ideals 
of $A$ containing $I$ and (left) ideals of $A/I$. 
\end{exercise}





\topic{Braces and 1-cocycles}

Let $K$ and $Q$ be groups.
An {\em extension} of $K$ by $Q$ is a
short exact sequence of group homomorphisms 
\[
\begin{tikzcd}
	1 & K & G & Q & 1
	\arrow[from=1-1, to=1-2]
	\arrow["f", from=1-2, to=1-3]
	\arrow["g", from=1-3, to=1-4]
	\arrow[from=1-4, to=1-5]
\end{tikzcd}
\]
This means that $f$ is injective, $g$ is surjective and $\ker g=\im f$. Note that in this case, $K$ is isomorphic to $f(K)$, which is a normal subgroup of $G$ and $G/f(K)\simeq Q$. We also say that $G$ is an extension of $K$ by $Q$.

\begin{example}
	$C_6$ and $\Sym_3$ are both extensions of $C_3$ by $C_2$.
\end{example}

\begin{example}
	$C_6$ is an extension of $C_2$ by $C_3$.
\end{example}

\begin{example}
    The direct product $K\times Q$ of the groups $K$ and $Q$ 
    is an extension of $K$ by $Q$ and an extension of $Q$ by $K$. 
\end{example}

\begin{example}
Let $G$ be an extension of $K$ by $Q$. If $L$ is a subgroup of $G$ containing $K$, 
then $L$ is an extension
of $K$ by $L/K$.
\end{example}

\index{Lifting} 
Let $E:
\begin{tikzcd}
	1 & K & G & Q & 1
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-2, to=1-3]
	\arrow["p", from=1-3, to=1-4]
	\arrow[from=1-4, to=1-5]
\end{tikzcd}$
be an extension of groups. A {\em lifting} of $E$ is a map $\ell\colon
Q\to G$ such that $p(\ell(x))=x$, for all $x\in Q$. 

\index{Split!extension}
An extension $E$ {\em splits} if there is a lifting of $E$ that it is a group
homomorphism. 

\begin{exercise}
	\label{xca:lifting}
	Let $E:
	\begin{tikzcd}
	1 & K & G & Q & 1
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-2, to=1-3]
	\arrow["p", from=1-3, to=1-4]
	\arrow[from=1-4, to=1-5]
    \end{tikzcd}$
	be an extension. 
	\begin{enumerate}
		\item If $\ell\colon Q\to G$ is a lifting, then $\ell(Q)$
			is a transversal of $\ker p$ in $G$.
		\item Each transversal of $\ker p$ in $G$ induces a lifting $\ell\colon
			Q\to G$.
		\item If $\ell\colon Q\to G$ is a lifting, then 
			$\ell(xy)\ker p=\ell(x)\ell(y)\ker p$.
	\end{enumerate}
\end{exercise}


\index{Derivation}
\index{$1$-cocycle}
Let $Q$ and $K$ be groups. Assume that $Q$ acts by automorphisms on $K$, that is there is a group homomorphism $\alpha\colon Q\rightarrow \Aut(k)$. We write $\alpha_x=\alpha(x)$, for all $x\in Q$.
A map $\varphi\colon Q\to K$ is said to be a {\em $1$-cocycle} (or a derivation) if
\[
		\varphi(xy)=\varphi(x)\alpha_x(\varphi(y)),
\]
for all $x,y\in Q$.  The set of 1-cocycles $Q\to K$ is defined as 
\[
\Der(Q,K)=Z^1(Q,K)=\{\delta\colon Q\to K:\text{$\delta$ is $1$-cocycle}\}.
\]

\begin{example}
	Let $K$ and $Q$ be groups. Let $\alpha\colon Q\rightarrow \Aut(K)$ be a group homomorphism.  
	For each $k\in K$, the map 
	$\delta_k\colon Q\to K$, $x\mapsto \delta_k(x)=k\alpha_x(k)^{-1}$, is a derivation. One typically writes
	$\delta_k(x)=[k,x]$. 
\end{example}

\begin{exercise}
	\label{xca:1cocycle}
	Let $\varphi\colon Q\to K$ be a 1-cocycle. 
	\begin{enumerate}
		\item $\varphi(1)=1$.
		\item $\varphi(y^{-1})=(y^{-1}\cdot\varphi(y))^{-1}=y^{-1}\cdot\varphi(y)^{-1}$.
		\item The set $\ker\varphi=\{x\in Q:\varphi(x)=1\}$ is a subgroup of $Q$. 
	\end{enumerate}
\end{exercise}


% \begin{svgraybox}
% 	Para $k\in K$ y $x\in Q$ escribimos $\delta_k(x)=[k,x]$. Entonces 
% 	\[
% 	\delta_k(x)(x\delta_k(y)x^{-1})
% 	=kxk^{-1}x^{-1}xkyk^{-1}y^{-1}x^{-1}
% 	=k(xy)k^{-1}(xy)^{-1}
% 	=\delta_k(xy).
% 	\]
% \end{svgraybox}


A subgroup $K$ of a group $G$ admits a {\em complement} $Q$ if $G$ admits an exact factorization 
through $K$ and $Q$, i.e. $G=KQ$ with $K\cap Q=\{1\}$. 
A classical example is the (inner) semidirect product $G=K\rtimes Q$, where $K$ is a normal subgroup of $G$ 
and $Q$ is a subgroup of $G$ such that $K\cap Q=\{1\}$. 

Let $K$ and $Q$ be groups. Let $\alpha\colon Q\rightarrow \Aut(K),\,x\mapsto \alpha_x$ be a group homomorphism. Consider the set $K\times Q$. We define a multiplication on this set by
\[(k_1,q_1)(k_2,q_2)=(k_1\alpha_{q_1}(k_2),q_1q_2),\]
for all $k_1,k_2\in K$ and $q_1,q_2\in Q$. Then $K\times Q$ with this multiplication is a group, called the semidirect product of $K$ by $Q$ via $\alpha$, and denoted by $K\rtimes_{\alpha}Q$. Note that $K\times\{ 1\}$ is a normal subgroup of $K\rtimes_{\alpha}Q$, and $\{1\}\times Q$ is a subgroup of $K\rtimes_{\alpha}Q$. Thus $K\rtimes_{\alpha}Q$ is the inner semidirect product of $K\times\{ 1\}$ by $\{1\}\times Q$. Since $K\simeq K\times\{ 1\}$ and $Q\simeq \{1\}\times Q$, we identify these groups, i. e. $k\equiv (k,1)$ and $q\equiv (1,q)$ for all $k\in K$ and $q\in Q$. Note that
\[ 
qkq^{-1}\equiv (1,q)(k,1)(1,q^{-1})=(\alpha_q(k),q)(1,q^{-1})=(\alpha_q(k),1)=\alpha_q(k)
\]
for all $k\in K$ and $q\in Q$.

\begin{theorem}
	\label{thm:complements}
	Let $Q$ and $K$ be groups and let $\alpha\colon Q\rightarrow \Aut (K)$ be a
	group homomorphism. Then there exists a bijective correspondence
	\[
	\{\text{complements of $K$ in $K\rtimes Q$}\}\leftrightarrow\Der(Q,K).
	\]
	%between
	%the set $\mathcal{C}$ of complements of $K$ in $K\rtimes Q$ and the set
	%$\Der(Q,K)$ of 1-cocycles $Q\to K$.
\end{theorem}

\begin{proof}
    Let $\mathcal{C}$ be the set of complements of $K$ in $K\rtimes Q$. 
	Since $Q$ acts by conjugation on $K$, it follows that $\delta\in\Der(Q,K)$ if and only if 
	$\delta(xy)=\delta(x)x\delta(y)x^{-1}$ for all $x,y\in Q$. In this case, 
	one obtains that 
	$\delta(1)=1$ and $\delta(x^{-1})=x^{-1}\delta(x)^{-1}x$.
	
	Let 
	$C\in\mathcal{C}$. If $x\in Q$, then there exist unique elements  
	$k\in K$ and $c\in C$ such that $x=k^{-1}c$. Hence the  map 
	$\delta_C\colon Q\to K$, $x\mapsto k$, is well-defined and 
	$\delta_C(x)x=c\in C$. 
	
	We claim that $\delta_C\in\Der(Q,K)$. If $x,x_1\in Q$, we write $x=k^{-1}c$
	and $x_1=k_1^{-1}c_1$ for $k,k_1\in K$ and $c,c_1\in C$. Since $K$ is a normal subgroup of 
	the semidirect product $K\rtimes Q$, we can write $xx_1$ as $xx_1=k_2c_2$, where 
	$k_2=k^{-1}(ck_1^{-1}c^{-1})\in K$, $c_2=cc_1\in C$. Thus  
	$\delta_C(xx_1)xx_1=cc_1=\delta_C(x)x\delta_C(x_1)x_1$ 
	implies that $\delta_C(xx_1)=\delta_C(x)x\delta_C(x_1)x^{-1}$. 
	So there is a map $F\colon\mathcal{C}\to\Der(Q,K)$, $F(C)=\delta_C$.

	We now construct a map $G\colon\Der(Q,K)\to\mathcal{C}$. 
	For each 
	$\delta\in\Der(Q,K)$ we find a complement $\Delta$ of $K$ in $K\rtimes Q$. Let 
	$\Delta=\{\delta(x)x:x\in Q\}$. 
	We claim that $\Delta$ is a subgroup of $K\rtimes Q$. Since $\delta(1)=1$,
	$1\in \Delta$. If $x,y\in Q$, then 
	\[
	\delta(x)x\delta(y)y=\delta(x)x\delta(y)x^{-1}xy=\delta(xy)xy\in \Delta.
	\]
	Finally, if $x\in Q$, then 
	\[
	(\delta(x)x)^{-1}=x^{-1}\delta(x)^{-1}xx^{-1}=\delta(x^{-1})x^{-1}\in \Delta.
	\]
	Thus $\Delta$ is a subgroup of $K\rtimes Q$.
	We claim that $\Delta\cap K=\{1\}$. If $x\in Q$ is such that $\delta(x)x\in K$, then 
    since $\delta(x)\in K$, it follows that $x\in K\cap Q=\{1\}$. If $g\in G$, then 
	there are unique $k\in K$ and $x\in Q$ such that $g=kx$. We write 
	$g=k\delta(x)^{-1}\delta(x)x$. Since $k\delta(x)^{-1}\in K$ and $\delta(x)x\in
	\Delta$, we conclude that $G=K\Delta$. Thus there is a well-defined map 
	$G\colon\Der(Q,K)\to\mathcal{C}$, $G(\delta)=\Delta$.

	We claim that $G\circ F=\id_{\mathcal{C}}$. 
	Let $C\in\mathcal{C}$. Then  
	\[
	G(F(C))=G(\delta_C)=\{\delta_C(x)x:x\in
	Q\}=C,
	\]
	by construction. (We know that $\delta_C(x)x\in C$. Conversely, if $c\in
	C$, we write $c=kx$ for unique elements $k\in K$ and $x\in Q$. Thus $x=k^{-1}c$
	and hence $c=\delta_c(x)x$.)

	Finally, we prove that $F\circ G=\id_{\Der(Q,K)}$. Let $\delta\in\Der(Q,K)$.
    Then	
    \[
	F(G(\delta))=F(\Delta)=\delta_{\Delta}.
	\]
	Finally, we need to show that $\delta_\Delta=\delta$.  Let $x\in Q$. There exists 
	$\delta(y)y\in\Delta$ for some $y\in Q$ such that $x=k^{-1}\delta(y)y$.
	Thus $\delta_{\Delta}(x)x=\delta(y)y$ and hence $x=y$ and $\delta_{\Delta}(x)=\delta(y)$ by
	the uniqueness. Therefore, $\delta_{\Delta}=\delta$, and the result follows. 
\end{proof}

\index{Derivation!inner}
\index{$1$-coboundary} 
Let $K$ and $Q$ be groups and let $\alpha\colon Q\rightarrow \Aut(K)$ be a group homomorphism.
A derivation $\delta\in\Der(Q,K)$ is said to be {\em inner} if there exists $k\in K$ 
such that $\delta(x)=[k,x]$ for all $x\in Q$. The set of 
{\em inner derivations} will be denoted by 
\[
		\Inn(Q,K)=B^1(Q,K)=\{\delta\in\Der(Q,K):\text{$\delta$ is inner}\}.
\]
An inner derivation is also called a {\em $1$-coboundary}.

\begin{theorem}[Sysak]
	\index{Sysak's theorem}
	\label{theorem:Sysak}
	Let $K$ and $Q$ be groups and let $\alpha\colon Q\rightarrow \Aut(K)$ be a group homomorphism. Let
	$\delta\in\Der(Q,K)$.
	\begin{enumerate}
		\item $\Delta=\{\delta(x)x:x\in Q\}$ is a complement of $K$ in $K\rtimes Q$.
		\item $\delta\in\Inn(Q,K)$ if and only if $\Delta=kQ k^{-1}$ for some $k\in K$.
		\item $\ker\delta=Q\cap\Delta$.
		\item $\delta$ is surjective if and only if $K\rtimes Q=\Delta Q$.
	\end{enumerate}
\end{theorem}

\begin{proof}
	In the proof of Theorem~\ref{thm:complements} we 
	found that $\Delta$ is a complement of $K$ in $K\rtimes Q$. 

	Let us prove the second statement. If $\delta$ is inner, then there exists 
    $k\in K$ such that $\delta(x)=[k,x]=kxk^{-1}x^{-1}$ for all $x\in
	Q$. Since $\delta(x)x=kxk^{-1}$ for all $x\in Q$,  $\Delta=kQk^{-1}$.
	Conversely, if there exists $k\in K$ such that $\Delta=kQk^{-1}$, for each 
	$x\in Q$ there exists $y\in Q$ such that $\delta(x)x=kyk^{-1}$. Since
	$[k,y]=kyk^{-1}y^{-1}\in K$, $\delta(x)\in K$ and $\delta(x)x=[k,y]y\in KQ$,
	we conclude that  $x=y$ and hence $\delta(x)=[k,x]$. 

	Let us prove the third statement. If $x\in Q$ is such that $\delta(x)x=y\in
	Q$, then \[
	\delta(x)=yx^{-1}\in K\cap Q=\{1\}.
	\]
	Conversely, if $x\in Q$
	is such that $\delta(x)=1$, then $x=\delta(x)x\in Q\cap\Delta$. 

	Finally we prove the fourth statement. If $\delta$ is surjective, then for each 
	$k\in K$ there exits $y\in Q$ such that $\delta(y)=k$. Thus $K\rtimes Q\subseteq
	\Delta Q$, as 
	\[
	kx=\delta(y)x=(\delta(y)y)y^{-1}x\in \Delta Q.
	\]
	Since $\Delta$ and $Q$ are subgroups of $K\rtimes Q$, we have that 
	$\Delta Q\subseteq K\rtimes Q$, and therefore $\Delta Q=K\rtimes Q$.
	Conversely, if $k\in K$ and $x\in Q$ there exist  
	$y,z\in Q$ such that $kx=\delta(y)yz$. Then it follows that 
	$k=\delta(y)$. 
\end{proof}

\begin{exercise}
	\label{xca:ker1cocycle}
	Let $\delta\in\Der(Q,K)$. 
	\begin{enumerate}
	\item Prove that $\delta$ is injective if and only if 
	$\ker\delta=\{1\}$.
	\item Prove that if $\delta$ is bijective, then  
	$K$ admits a complement 
	$\Delta$ in $K\rtimes Q$ such that $K\rtimes Q=K\rtimes\Delta=\Delta Q$ and 
	$Q\cap\Delta=\{1\}$.
	\end{enumerate}
\end{exercise}


A group $G$ admits a {\em triple factorization} if there are subgroups 
$A$, $B$ and $M$ such that $G=MA=MB=AB$ and $A\cap M=B\cap M=\{1\}$.
The following result is an immediate consequence of Sysak's theorem.

\begin{corollary}
	If the group $Q$ acts by automorphisms on $K$ and $\delta\in\Der(Q,K)$ is
	surjective, then $G=K\rtimes Q$ admits a triple factorization. 
\end{corollary}

% \begin{proof}
% 	Sean $x,y\in Q$ tales que $\delta(x)=\delta(y)$. Como $\delta(x^{-1}y)=1$
% 	pues 
% 	\[
% 	\delta(x^{-1}y)=\delta(x^{-1})(x^{-1}\delta(y)x)=\delta(x^{-1})x^{-1}\delta(x)x=\delta(x^{-1}x)=\delta(1)=1
% 	\]
% 	y $\delta$ es inyectiva, $x^{-1}y=1$. La afirmacin recproca es trivial.
% \end{proof}

% \begin{corollary}
% 	Si $\delta\in\Der(Q,K)$ es biyectivo entonces $K$ admite un complemento
% 	$\Delta$ en $K\rtimes Q$ tal que $K\rtimes Q=K\rtimes\Delta=\Delta Q$ y
% 	$Q\cap\Delta=1$.
% \end{corollary}

% \begin{proof}
% 	Vimos en el teorema de Sysak que $\delta$ es sobreyectiva si y
% 	slo si $K\rtimes Q=\Delta Q$ y que $\ker\delta=Q\cap\Delta$.
% \end{proof}

%\section{Aplicacin: subespacios invariantes}
%
%Sea $A$ un grupo que acta por automorfismos en un grupo $G$. Definimos
%\[
%C_G(A)=\{g\in G:g\cdot a=a\text{ para todo $a\in A$}\}.
%\]
%
%Como aplicacin de la teora de Schur--Zassenhaus vamos a demostrar los
%teoremas de Sylow para subespacios $A$-invariantes.
%Necesitamos el siguiente lema:
%
%\begin{lemma}
%	\label{lemma:Glauberman}
%	Sean $A$ y $G$ grupos finitos de rdenes coprimos. Supongamos que $A$ acta
%	por automorfismos en $G$ y que $A$ o $G$ es resoluble. Supongamos que $A$
%	acta en un conjunto $X$ y que $G$ acta transitivamente en $X$ de forma tal que
%	\begin{equation}
%		\label{equation:Glauberman:compatibilidad}
%		a\cdot (g\cdot x)=(aga^{-1})\cdot (a\cdot x)
%	\end{equation}
%	para todo $a\in A$, $g\in G$, $x\in X$. Valen las siguientes afirmaciones:
%	\begin{enumerate}
%		\item Existe un $x\in X$ invariante por la accin de $A$.
%		\item Si $x,y\in X$ son invariantes por la accin de $A$ entonces
%			existe $c\in C_G(A)$ tal que $c\cdot x=y$.
%	\end{enumerate}
%\end{lemma}
%
%\begin{proof}
%	Sea $\Gamma=G\rtimes A$ el producto semidirecto. Todo $\gamma$ se escribe
%	en forma nica como $\gamma=ga$ con $g\in G$, $a\in A$. Veamos que $\Gamma$
%	acta en $X$ por
%	\[
%		\gamma\cdot x=(ga)\cdot x=g\cdot (a\cdot x).
%	\]
%	Es fcil ver que es una accin pues la igualdad
%	\[
%	(ga)\cdot ((hb)\cdot x)=((ga)(hb))\cdot x=(gaha^{-1})\cdot ((ab)\cdot x)
%	\]
%	es consecuencia de la relacin de
%	compatibilidad~\eqref{equation:Glauberman:compatibilidad}.\framebox{completar}
%
%\end{proof}
%\begin{theorem}
%	\label{theorem:Sylow_Ainv}
%\end{theorem}
%
%}

Let $A$ be an additive group (note that we do not assume that an additive group is abelian) 
and $G$ be a group and let 
$G\times A\to A$, $(g,a)\mapsto g\cdot a$,
be a left action of $G$ on $A$ by automorphisms. This means that the action of $G$ on $A$ satisfies 
$g\cdot (a+b)=g\cdot a+g\cdot b$ for all $g\in G$ and $a,b\in A$.
A \emph{bijective
$1$-cocyle} is a bijective map $\pi\colon G\to A$ such that 
\begin{equation}
    \label{eq:1cocycle}
    \pi(gh)=\pi(g)+g\cdot \pi(h)
\end{equation}
for all $g,h\in G$. To simplify the notation we 
just say that the pair $(G,\pi)$ is a bijective 1-cocycle with values
on $A$. 

\begin{theorem}
	\label{thm:1cocycle}
	Let $A$ be an additive group. There exists a bijective
	correspondence
	\[
		\{\text{bijective 1-cocycles with values on $A$}\}
	\leftrightarrow
	\{\text{braces with additive group $A$}\}
	\]
%    Over any additive group $A$ the following data are equivalent:
%    \begin{enumerate}
%        \item A group $G$ and a bijective
%            1-cocycle $\pi\colon G\to A$. 
%        \item A brace structure over $A$. 
%    \end{enumerate}

    \begin{proof}
        Consider on $A$ a second group structure given by 
        \[
		a\circ b=\pi(\pi^{-1}(a)\pi^{-1}(b))=a+\pi^{-1}(a)\cdot b
		\]
		for all
        $a,b\in A$.  Since $G$ acts on $A$ by
        automorphisms, 
        \begin{align*}
            a\circ (b+c)&=\pi(\pi^{-1}(a)\pi^{-1}(b+c))=a+\pi^{-1}(a)\cdot (b+c)\\
            &=a+ \pi^{-1}(a)\cdot b+\pi^{-1}(a)\cdot c
            =a\circ b-a+a\circ c
        \end{align*}
        holds for all $a,b,c\in A$.
        
        Conversely, assume that the additive group $A$ has a brace structure. Let $G$ be the multiplicative group of $A$
        and $\pi=\id$. By
        Exercise~\ref{xca:lambda}, $a\mapsto\lambda_a$ is a group homomorphism from $G$ to $\Aut(A,+)$ and 
        hence $G$ acts on $A$ by automorphisms. Then~\eqref{eq:1cocycle} holds
        and therefore $\pi\colon G\to A$ is a bijective 1-cocycle. 
    \end{proof}
\end{theorem}

The construction of the previous theorem is functorial.

\begin{exercise}
\label{xca:1cocycle}
Let $\pi\colon G\to A$ and $\eta\colon H\to B$ be bijective 1-cocycles.  A
\emph{homorphism} between these bijective 1-cocycles is a pair $(f,g)$ of group
homomorphisms  $f\colon G\to H$, $g\colon A\to B$ such that
\begin{align*}
&\eta f=g\pi,\\
&g(h\cdot a)=f(h)\cdot g(a),&&a\in A,\;h\in G.
\end{align*}
Bijective 1-cocycles and homomorphisms form a category. 
For a given additive group $A$ 
the full subcategory of the category of bijective 1-cocycles with objects
$\pi\colon G\to A$ is equivalent to the full subcategory of the category of
braces with additive group $A$. 
\end{exercise}




\begin{example}
	\label{exa:d8q8}
	Let 
	\[
	D_4=\langle r,s:r^4=s^2=1,srs=r^{-1}\rangle
	\]
	be the dihedral group of eight elements and let
	\[
	Q_8=\{1,-1,i,-i,j,-j,k,-k\}
	\]
	be the quaternion group of eight elements.  Let
	$\pi:Q_8\to D_4$ be given by 
	\begin{align*}
		1\mapsto 1 &, & -1\mapsto r^2 &,  & -k\mapsto r^3s &,&  k\mapsto rs &,\\
		i\mapsto s &, & -i\mapsto r^2s &, &  j\mapsto r^3 &, & -j\mapsto r &.
	\end{align*}
	Since $\pi$ is bijective, 
	a straightforward calculation shows that $D_4$ with 
	\[
	  x+y=xy,\quad 
	  x\circ y=\pi(\pi^{-1}(x)\pi^{-1}(y))
	\]
	is a two-sided brace with additive group isomorphic to $D_4$ and multiplicative group
	isomorphic to $Q_8$. 
\end{example}






\topic{Braces and regular subgroups}

\index{Holomorph}
For an additive group $A$, the \textbf{holomorph} of $A$ is the semidirect product 
\[
	\Hol(A)=A\rtimes\Aut(A).
\]
This means that the operation is 
\[
	(a,f)(b,g)=(a+f(b),f\circ g),\quad
	a,b\in A,\quad
	f,g\in\Aut(A).
\]
%Write $\pi_1\colon\Hol(A)\to A$, $\pi_1(a,f)=a$ and $\pi_2\colon\Hol(A)\to\Aut(A)$, $\pi_2(a,f)=f$. 
Every subgroup $G$ of $\Hol(A)$ acts on $A$ by 
\[
	(x,f)\cdot a=\pi_1( (x,f)(a,\id) )=\pi_1(x+f(a),f)=x+f(a),\quad
	a,x\in A,\quad 
	f\in\Aut(A),
\]
where $\pi_1\colon \Hol(A)\to A$, $(a,f)\mapsto a$. 

\begin{exercise}
    The group $\Hol(A)$ acts transitively on $A$ 
	and the stabilizer $a\in A$ 
	is isomorphic to $\Aut(A)$. 
\end{exercise}

\index{Regular subgroup}
A subgroup $G$ of $\Hol(A)$ is said to be \emph{regular} 
if its acts regularly on $A$, this means that 
given $a,b\in A$ there exists a unique $(x,f)\in G$ such that
\[
	b=(x,f)\cdot a=x+f(a).
\]

\begin{exercise}
    \label{xca:bijective}
	Prove that 
	if $G$ is a regular subgroup of $\Hol(A)$, then $\pi_1\colon G\to A$ is
	bijective. 
\end{exercise}

Now we establish an important connection between braces and regular subgroups. 

\begin{theorem}
\label{thm:regular}
	If $A$ is a brace, then $\Delta=\{(a,\lambda_a):a\in A\}$ is a regular subgroup of 
	$\Hol(A,+)$. Conversely, if $A$ is an additive group and 
	$G$ is a regular subgroup of $\Hol(A)$, then $A$ is 
	a brace with 
	\[
		a\circ b=a+f(b),
	\]
	where $(\pi_1|_G)^{-1}(a)=(a,f)\in G$. 
\end{theorem}

\begin{proof}
    Assume first that $A$ is a brace. 
    Using~\eqref{eq:formulas} and that 
    $\lambda$ is a group homomorphism, it follows that
    $\Delta=\{(a,\lambda_a):a\in A\}$ is a subgroup of $\Hol(A,+)$, as 
    \begin{align*}
    &(a,\lambda_a)^{-1}=(\lambda^{-1}_a(-a),\lambda^{-1}_a)=(a',\lambda_{a'})\in\Delta,\\
    &(a,\lambda_a)(b,\lambda_b)=(a+\lambda_a(b),\lambda_a\circ\lambda_b)=(a\circ b,\lambda_{a\circ b})\in\Delta.    
    \end{align*}
    To see that $\Delta$ is a regular subgroup, note that $(c,\lambda_c)\cdot a=b$ 
    implies that $c=b\circ a'$, as $(A,\circ)$ is a group. 

	Assume now that $A$ is an additive group and that 
	$G$ is a regular subgroup of $\Hol(A)$. By Exercise~\ref{xca:bijective}, the restriction 
	$\pi_1|_G$ is bijective.  Use the bijection $\pi_1|_G$ to transport the
	operation of $G$ into $A$: 
	\[
        a\circ b=\pi_1|_G\left((\pi_1|_G)^{-1}(a)(\pi_1|_G)^{-1}(b)\right)=a+f(b),
	\]
	where $a,b\in A$ and $(\pi_1|_G)^{-1}(a)=(a,f)\in G$. 
	Then $(A,\circ)$ is a group isomorphic to $G$ and moreover $A$ is a brace, as 
	\begin{align*}
		a\circ (b+c)&=a+f(b+c)=a+f(b)+f(c)\\
		&=a+f(b)-a+a+f(c)=a\circ b-a+a\circ c
	\end{align*}
	holds for all $a,b,c\in A$. 
\end{proof}

%The following lemma is from~\cite{MR4113853}.

\begin{lemma}
\label{lem:BNY}
	Let $A$ be a group. If $H$ and $K$ are conjugate regular subgroups of
	$\Hol(A)$, then $H$ and $K$ are conjugate by an automorphism of $A$. 
\end{lemma}

\begin{proof}
    Assume that $H$ and $K$ are conjugate in $\Hol(A)$. Let $(b,g)\in\Hol(A)$ be such that $(b,g)^{-1}H(b,g)=K$. 
    Since $b\in A$, the regularity of $H$ implies that
    there exists $(a,f)\in H$ such that $a+f(b)=0$. Since $(a,f)\in H$, 
    \begin{align*}
    K=(b,g)^{-1}H(b,g)&=(b,g)^{-1}(a,f)^{-1}H(a,f)(b,g)\\
    &=(0,f\circ g)^{-1}H(0,f\circ g)=(f\circ g)^{-1}H(f\circ g).\qedhere
    \end{align*}
    %Hence $H$ and $K$ are conjugate by an automorphism of $A$.
\end{proof}

\begin{proposition}
\label{pro:regular}
	Let $A$ be an additive group.  There exists a bijective correspondence between
	isomorphism classes of 
	brace structures with additive group $A$ and conjugacy classes of regular subgroups of
	$\Hol(A)$. 

	\begin{proof}
        Assume that the additive group $A$ has two isomorphic brace structures given by
		$(a,b)\mapsto a\circ b$ and $(a,b)\mapsto a\times b$. Let 
		$f\colon A\to A$ be a bijective map such that $f(a+b)=f(a)+f(b)$ and $f(a\circ b)=f(a)\times f(b)$ for
		all $a,b\in A$. 
		We claim that the regular subgroups $\{(a,\lambda_a):a\in A$\} and
		$\{(a,\mu_a):a\in A\}$, where $\lambda_a(b)=-a+a\circ b$ and
		$\mu_a(b)=-a+a\times b$, are conjugate. 
		Since $f$ is an isomorphism of braces, 
		\[
		f\circ\lambda_a\circ f^{-1}=\mu_{f(a)}
		\]
		for all $a\in A$. This implies that $(0,f)(a,\lambda_a)(0,f)^{-1}=(f(a),\mu_{f(a)})$ 
		for all $a\in A$ and hence 
		and the first claim follows. 
		
		Conversely, let $H$ and $K$ be conjugate regular subgroups of $\Hol(A)$. Since $H$ and $K$ are conjugate in $\Hol(A)$, by 
		Lemma~\ref{lem:BNY} there exists $\varphi\in\Aut(A)$ such that $\varphi
		H\varphi^{-1}=K$. The brace structure on $A$ corresponding to the subgroup $H$ is given by 
		$a\circ b=a+f(b)$,
		where
		$(a,f)=(\pi_1|_H)^{-1}(a)\in H$, see Lemma~\ref{lem:bijective}. 
		Since 
        \[
        \varphi(f,a)\varphi^{-1}=(\varphi(a),\varphi\circ f\circ \varphi^{-1})\in K,
        \]
        it follows that 
        $(\pi_1|_K)^{-1}(\varphi(a))=(\varphi(a),\varphi\circ f\circ \varphi^{-1})$. Since $\varphi\in\Aut(A)$, 
        \begin{align*}
            \varphi(a)\times\varphi(b)&=\varphi(a)+(\varphi\circ f\circ\varphi^{-1})(\varphi(b))\\
            &=\varphi(a)+\varphi(f(b))=\varphi(a+f(b))=\varphi(a\circ b)
        \end{align*}
        and hence the braces corresponding to $H$ and $K$ are
		isomorphic.
	\end{proof}
\end{proposition}

With Theorem~\ref{thm:regular}, Lemma~\ref{lem:BNY} and
Proposition~\ref{pro:regular} one constructs small braces. In particular, the
method can be used to compute the number $s(n)$ of non-isomorphic braces of
size $n$. With small modifications, one computes the number $a(n)$ of
non-isomorphic braces of abelian type of size $n$. 
Some values for $s(n)$ and $a(n)$ appear in
Table~\ref{tab:braces}. 

\begin{table}[ht]
\centering
	\caption{The number of non-isomorphic braces.}
	\begin{tabular}{|c|cccccccccccc|}
		\hline
		$n$ & 1 & 2 & 3 & 4 & 5  & 6 & 7 & 8 & 9 & 10 & 11 & 12\tabularnewline
		$a(n)$ & 1  & 1  & 1  & 4  & 1  & 2  & 1  & 27  & 4  & 2  & 1  & 10\tabularnewline
		$s(n)$ & 1 & 1 & 1 & 4 & 1 & 6 & 1 & 47 & 4 & 6 & 1 & 38 \tabularnewline
		\hline
		$n$ & 13 & 14 & 15 & 16 & 17 & 18 & 19 & 20 & 21 & 22 & 23 & 24\tabularnewline
		$a(n)$ & 1  & 2  & 1  & 357  & 1  & 8  & 1  & 11  & 2  & 2  & 1  & 96\tabularnewline
		$s(n)$ & 1 & 6 & 1 & 1605 & 1 & 49 & 1 & 43 & 8 & 6 & 1 & 855 \tabularnewline
		\hline
		$n$ & 25 & 26 & 27 & 28 & 29 & 30 & 31 & 32 & 33 & 34 & 35 & 36\tabularnewline
		$a(n)$ & 4  & 2  & 37  & 9  & 1  & 4 & 1  & 25281  & 1  & 2  & 1  & 46\tabularnewline
		$s(n)$ & 4 & 6 & 101 & 29 & 1 & 36 & 1 & 1223061 &  1 & 6 & 1 & 400\tabularnewline
		\hline
		$n$ & 37 & 38 & 39 & 40 & 41 & 42 &  43 & 44 & 45 & 46 & 47 & 48\tabularnewline
		$a(n)$  & 1  & 2  & 2  & 106  & 1  & 6  & 1  & 9  & 4 & 2  & 1  & 1708\tabularnewline
		$s(n)$ & 1 & 6 & 8 & 944 & 1 & 78 & 1 & 29 & 4 & 6 & 1 & 66209 \tabularnewline
		\hline
		$n$    & 49 & 50 & 51 & 52 & 53 & 54 & 55 & 56 & 57 & 58 & 59 & 60\tabularnewline
		$a(n)$ &  4 & 8 & 1 & 11 & 1 & 80 & 2 & 91 & 2 & 2 & 1 & 28\tabularnewline
		$s(n)$ & 4 & 51 & 1 & 43 & 1 & 1028 &  12 & 815 & 8 & 6 & 1 & 418\tabularnewline

		\hline
		$n$ & 61 & 62 & 63 & 64 & 65 & 66 & 67 & 68 & 69 & 70 & 71 & 72\tabularnewline
		$a(n)$ & 1 & 2 & 11 & ? & 1 & 4 & 1 & 11 & 1 & 4 & 1 & 489\tabularnewline
		$s(n)$ & 1 & 6 & 11 & ? &  1 & 36 & 1 & 43 & 1 & 36 & 1 & 17790 \tabularnewline

		\hline
		$n$ & 73 & 74 & 75 & 76 & 77 & 78 & 79 & 80 & 81 & 82 & 83 & 84\tabularnewline
		$a(n)$ & 1 & 2 & 5 & 9 & 1 & 6 & 1 & 1985 & 804 & 2 & 1 & 34\tabularnewline
		$s(n)$ & 1 & 6 & 14 & 29 & 1 & 78 & 1 & 74120 & 8436 &  6 & 1 & 606\tabularnewline

		\hline
		$n$ & 85 & 86 & 87 & 88 & 89 & 90 & 91 & 92 & 93 & 94 & 95 & 96\tabularnewline
		$a(n)$ & 1 & 2 & 1 & 90 & 1 & 16 & 1 & 9 & 2 & 2 & 1 & 195971\tabularnewline
		$s(n)$ & 1 & 6 & 1 & 800 & 1 & 294 & 1 & 29 & 8 & 6 & 1 & ? \tabularnewline

		\hline
		$n$ & 97 & 98 & 99 & 100 & 101 & 102 & 103 & 104 & 105 & 106 & 107 & 108\tabularnewline
		$a(n)$ & 1 & 8 & 4 & 51 & 1 & 4 & 1 & 106 & 2 & 2 & 1 & 494 \tabularnewline
		$s(n)$ & 1 & 53 &  4 & 711 & 1 & 36 & 1 & 944 &  8 &  6 &  1 & 11223 \tabularnewline

		\hline
		$n$ & 109 & 110 & 111 & 112 & 113 & 114 & 115 & 116 & 117 & 118 & 119 & 120\tabularnewline
		$a(n)$ & 1 & 6 & 2 & 1671 & 1 & 6 & 1 & 11 & 11 & 2 & 1 & 395\tabularnewline
		$s(n)$ & 1 & 94 &  8 & 65485 &  1 & 78 &  1 & 43 &  47 &  6 &  1 & 22711 \tabularnewline
		\hline

		$n$ & 121 & 122 & 123 & 124 & 125 & 126 & 127 & 128 & 129 & 130 & 131 & 132\tabularnewline
		$a(n)$ & 4 & 2 & 1 &  9  & 49 & 36 & 1 & ? & 2 &  4 & 1 & 24\tabularnewline
		$s(n)$ & 4 & 6 & 1 & 29 & 213 & 990 & 1 & ? & 8 & 36 & 1 & 324 \tabularnewline
		\hline

		$n$  & 133 & 134 & 135 & 136 & 137 & 138 & 139 & 140 & 141 & 142 & 143 & 144\tabularnewline
		$a(n)$ & 1 & 2 & 37 & 108 & 1 & 4 & 1 & 27 & 1 & 2 & 1 & 10215\tabularnewline
		$s(n)$ & 1 & 6 & 101 & 986 & 1 & 36 & 1 & 395 & 1 & 6 & 1 & 3013486 \tabularnewline
		\hline
		
		$n$ & 145 & 146 & 147 & 148 & 149 & 150 & 151 & 152 & 153 & 154 & 155 & 156\tabularnewline
		$a(n)$ & 1 & 2 & 9 & 11 & 1 & 19 & 1 & 90 & 4 & 4 & 2 & 40\tabularnewline
		$s(n)$ & 1 & 6 & 123 & 43 & 1 & 401 & 1 & 800 & 4 & 36 & 12 & 782 \tabularnewline
		\hline

		$n$ & 157 & 158 & 159 & 160 & 161 & 162 & 163 & 164 & 165 & 166 & 167 & 168\tabularnewline
		$a(n)$ & 1 & 2 & 1 & 209513 & 1 & 1374 & 1 & 11 & 2 & 2 & 1 & 443\tabularnewline
		$s(n)$ & 1 & 6 & 1 & ? & 1 & 45472 & 1 & 43 & 12 & 6 & 1 & 28505 \tabularnewline
		\hline
	\end{tabular}
	\label{tab:braces}
\end{table}

\topic{A universal construction}



