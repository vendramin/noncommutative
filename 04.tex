\section{Lecture: Week 4}


%\subsection{Grupos finitos nilpotents}
\subsection{Finite nilpotent groups}

Before studying finite nilpotent groups, we need a lemma. 

\begin{lemma}
\label{lem:normalizador}
Let $G$ be a finite group and $p$ a prime number dividing $|G|$. 
If 
$P\in\Syl_p(G)$, then 
\[
N_G(N_G(P))=N_G(P). 
\]
\end{lemma}

\begin{proof}
Let $H=N_G(P)$. Since $P$ is normal in $H$, $P$ is the only Sylow $p$-subgroup of $H$. 
To prove that $N_G(H)=H$, it is enough to see that $N_G(H)\subseteq
H$. Let $g\in N_G(H)$. Since  
\[
gPg^{-1}\subseteq gHg^{-1}=H,
\]
$gPg^{-1}\in\Syl_p(H)$ and $H$ has only one Sylow $p$-subgroup, 
$P=gPg^{-1}$.  Hence $g\in N_G(P)=H$. 
\end{proof}

\begin{theorem}
\label{thm:nilpotent:eq}
Let $G$ be a finite group. The following statements are equivalent:
\begin{enumerate}
	\item $G$ is nilpotent. 
	\item Every Sylow subgroup of $G$ is normal in $G$. 
	\item $G$ is a direct product of its Sylow subgroups. 
\end{enumerate}
\end{theorem}

\begin{proof}
We first prove that $(1)\implies(2)$. Let $P\in\Syl_p(G)$. We aim to prove that $P$ 
is normal in $G$, that is $N_G(P)=G$. By Lemma \ref{lem:normalizador}, 
$N_G(N_G(P))=N_G(P)$. Now the normalizer condition (Lemma \ref{lem:normalizadora}) implies that 
$N_G(P)=G$.

We now prove that $(2)\implies(3)$. Let $p_1,\cdots,p_k$ be the prime factors of 
$|G|$. For each $i\in\{1,\dots,k\}$, let  $P_i\in\Syl_{p_i}(G)$.
By assumption, each $P_j$ is normal in $G$.

We claim that $P_1\cdots P_j\simeq P_1\times\cdots\times P_j$ for all $j$.
The case $j=1$ is trivial. So assume the result holds for some 
$j\geq 1$. Since 
\[
N=P_1\cdots P_j\simeq P_1\times\cdots\times P_j
\]
is normal in $G$ and it has order coprime with $|P_{j+1}|$, 
\[
N\cap P_{j+1}=\{1\}.
\]
Hence 
\[
	NP_{j+1}\simeq N\times P_{j+1}\simeq P_1\times\cdots\times P_j\times P_{j+1}, 
\]
as $P_{j+1}$ is normal in $G$. 
Since now $P_1\cdots P_k\simeq P_1\times\cdots\times P_k$ is a subgroup of 
$G$ of order $|G|$, we conclude that $G=P_1\times\cdots\times P_k$.

Finally, we prove that $(3)\implies(1)$. We just need to note that 
every 
$p$-group is nilpotent (Proposition~\ref{pro:nilpotent_pgroups}) and that the direct product
of nilpotent groups is nilpotent. 
%(ejercicio~\ref{exercise:HxK_nilpotent}).
\end{proof}

\begin{exercise}
\label{xca:truco}
Let $G$ be a finite group. Prove that if $P\in\Syl_p(G)$ and $M$ is a subgroup of $G$ such that 
$N_G(P)\subseteq M$, then $M=N_G(M)$. 
\end{exercise}

% \begin{svgraybox}
% 	Let $x\in N_G(M)$. Como $P\subseteq M$ y $M$ es normal en $N_G(M)$,
% 	$xPx^{-1}\subseteq M$.  Como $P$ y $xPx^{-1}$ son $p$-subgrupos de Sylow de
% 	$M$, existe $m\in M$ tal que 
% 	\[
% 	mPm^{-1}=xPx^{-1}.
% 	\]
% 	Luego $x\in M$ pues
% 	$m^{-1}x\in N_G(P)\subseteq M$. 
% \end{svgraybox}

\begin{exercise}
\label{xca:normalizadora}
Let $G$ be a finite group. Prove that the following statements are equivalent:
\begin{enumerate}
	\item $G$ is nilpotent.
	\item If $H\subsetneq G$ is a subgroup of $G$, then $H\subsetneq N_G(H)$.
	\item Every maximal subgroup of $G$ is normal in $G$.
\end{enumerate}
\end{exercise}

% \begin{svgraybox}
% 	Para demostrar que $(1)\implies(2)$ simplemente usamos el
% 	lema~\ref{lemma:normalizadora}. Para demostrar que $(2)\implies(3)$ hacemos
% 	lo siguiente: si $M$ es un subgrupo maximal, como $M\subsetneq N_G(M)$ por
% 	hipótesis, $N_G(M)=G$ por maximalidad. Finalmente demostremos que
% 	$(3)\implies(1)$.  Let $P\in\Syl_p(G)$. Si $P$ no es normal en $G$,
% 	$N_G(P)\ne G$ y entonces existe un subgrupo maximal $M$ tal que
% 	$N_G(P)\subseteq M$. Como $M$ es normal en $G$, el
% 	ejercicio~\ref{exercise:truco} implica que $M=N_G(M)=G$, una contradicción.
% 	Luego $P$ es normal en $G$ y entonces $G$ es nilpotent por el
% 	teorema~\ref{theorem:nilpotent:eq}.
% \end{svgraybox}

% ejercicio: G finito. Es nilpotent si y solo si dos elementos de ordenes coprimos conmnutan
% 5.41 rotman

\begin{theorem}
Let $G$ be a finite nilpotent group. If $p$ is a prime number dividing 
$|G|$, there exist a minimal normal subgroup of order $p$ and 
there exists a maximal subgroup of index $p$. 
\end{theorem}

\begin{proof}
Assume that $|G|=p^{\alpha}m$ with $\gcd(p,m)=1$. 
Write $G=P\times H$, where $P\in\Syl_p(G)$.  Since $Z(P)$ is a non-trivial normal subgroup of
$P$, every subgroup of $Z(P)$ that is minimal normal in $G$ has order $p$ (and such subgroups exist because $G$ is finite). Since $P$ contains a subgroup of index $p$, 
it is maximal. Hence $P\times H$ contains 
a maximal subgroup of index $p$.
\end{proof}

\begin{exercise}
\label{xca:pgrupos}
Let $p$ be a prime number and $G$ be a non-trivial group 
of order $p^n$.
Prove the following statements:
\begin{enumerate}
	\item $G$ has a normal subgroup of order $p$.
	\item For every $j\in\{0,\dots,n\}$ there exists a normal subgroup 
            of $G$ of order $p^j$. 
\end{enumerate}
\end{exercise}

% \begin{svgraybox}
% 	\begin{enumerate}
% 		\item Sabemos que $Z(G)\ne1$. Let $g\in Z(G)$ tal que $g\ne 1$.
% 			Supongamos que el orden de $g$ es $p^k$ para algún $k\geq1$.
% 			Entonces $g^{p^{k-1}}$ tiene orden $p$ y luego genera un subgrupo
% 			central de orden $p$. 
% 		\item Procederemos por inducción en $n$. Si $n=1$ el resultado es
% 			trivial.  Supongamos entonces que el resultado vale para un cierto
% 			$n\geq2$. Por el punto anterior, $G$ posee un subgrupo normal $N$
% 			de orden $p$. Luego $G/N$ tiene orden $p^{n-1}$. Let $\pi\colon G\to G/N$ el morfismo canónico. 
% 			Por hipótesis
% 			inductiva, para cada $j\in\{0,\dots,n-1\}$. Por el teorema de la
% 			correspondecia, cada subgrupo normal $S_j$ de $G/N$ de orden $p^j$ se
% 			corresponde con un subgrupo $\pi^{-1}(S_j)$ de $G$ de orden $p^{j+1}$ pues, como
% 			$\pi$ es sobreyectiva, se tiene $\pi(\pi^{-1}(S_j))=S_j$, y luego
% 			\[
% 			p^j=|S_j|=|\pi(\pi^{-1}(S_j))|=\frac{|\pi^{-1}(S_j)|}{|\pi^{-1}(S_j)\cap N|}=\frac{|\pi^{-1}(S_j)|}{|N|}=\frac{|\pi^{-1}(S_j)|}{p}.
% 			\]
% 	\end{enumerate}
% \end{svgraybox}

\begin{exercise}
\label{xca:nilpotent_equivalencia}
Let $G$ be a finite group. Prove that the following statements are equivalent:
\begin{enumerate}
	\item $G$ is nilpotent.
	\item Any two elements of coprime order commute. 
 	\item Every non-trivial quotient of $G$ has a non-trivial center.
	\item If $d$ divides $|G|$, then there exists a normal subgroup of $G$ of order $d$. 
 \end{enumerate}
\end{exercise}

% 3)\implies 1). As yo mentioned, one implication is just Hirsch’s theorem. Conversely, assume that every non-trivial quotient of $G$ has non-trivial center, in particular, $Z_1=Z(G)$ is non-trivial. If $Z_1=G$, then we are done. If not, then $G/Z_1$ is non-trivial and $Z(G/Z_1)\ne\{1\}$. Let $\pi_1$ be the canonical morphism onto $G/Z_1$. Let $Z_2=\pi_1^{-1}(Z(G/Z_1))$. Inductively, one we have $Z_i$ with $Z_i\ne G$, let $\pi_i\colon G\to G/Z_{i}$ be the canonical map. Then define $Z_{i+1}=\pi_i^{-1}(Z(G/Z_i))$. Then $Z_i\subseteq Z_{i+1}$ for all $i$. Since $G$ is finite, this needs to stop, that is there exists $k$ such that $Z_k=G$. Thus $G$ is nilpotent.


% \begin{svgraybox}
% 	Veamos que $(1)\implies(2)$. Sabemos que $G$ es producto directo de sus
% 	subgrupos de Sylow, digamos $G=\prod_{i=1}^k S_i$, donde los $S_i$ son los
% 	distintos subgrupos de Sylow de $G$.  Letn
% 	$x=(x_1,\dots,x_k),y=(y_1,\dots,y_k)\in G$. Como $|x|$ y $|y|$ son
% 	coprimos, para cada $i\in\{1,\dots,k\}$ se tiene $x_i=1$ o $y_i=1$. Luego
% 	\[
% 		[x,y]=([x_1,y_1],[x_2,y_2],\dots,[x_k,y_k])=1. 
% 	\]
% 	Demostremos ahora que $(2)\implies(1)$. Supongamos que
% 	$|G|=p_1^{\alpha_1}\cdots p_k^{\alpha_k}$, donde los $p_j$ son primos
% 	distintos y para cada $j$ Let $P_j\in\Syl_{p_j}(G)$. Como elementos de
% 	órdenes coprimos conmutan, la función $P_1\times\cdots\times P_k\to G$,
% 	$(x_1,\dots,x_k)\mapsto x_1\cdots x_k$, es un morfismo inyectivo de grupos.
% 	Como entonces $G\simeq P_1\times\cdots P_k$, y cada $P_j$ es nilpotent,
% 	$G$ es nilpotent. 

% 	Para demostrar que $(1)\implies(3)$ simplemente hay que observar que todo
% 	cociente de $G$ es nilpotent y luego utilizar el
% 	teorema~\ref{theorem:Z(nilpotent)}. Demostremos que $(3)\implies(1)$. Como
% 	todo cociente no trivial de $G$ tiene centro no trivial, en particular
% 	$Z_1=Z(G)$ es no trivial. Si $Z_1=G$ entonces $G$ es abelian y no hay nada
% 	para demostrar. Si $Z_1\ne G$ entonces $G/Z_1\ne 1$; luego $Z(G/Z_1)\ne 1$.
% 	Si $\pi_1\colon G\to G/Z_1$ es el morfismo canónico,
% 	$Z_2=\pi_1^{-1}(Z(G/Z_1))$. Inductivamente, si tenemos construido el
% 	subgrupo $Z_i$, $Z_i\ne G$ y  $\pi_i\colon G\to G/Z_{i}$ es el morfismo
% 	canónico, se define el subgrupo $Z_{i+1}=\pi_i^{-1}(Z(G/Z_i))$. Por
% 	construcción, $Z_i\subseteq Z_{i+1}$ para todo $i$. Como $G$ es finito,
% 	existe $k$ tal que $Z_k=G$ y luego $G$ es nilpotent.

% 	Demostremos que $(1)\implies(4)$. Esta implicación es consecuencia
% 	inmediata del ejercicio~\ref{exercise:pgrupos}. 
% 	Como $G$ es nilpotent, $G$ producto
% 	directo de sus $p$-grupos de Sylow. Si $d=p_1^{\alpha_1}\cdots
% 	p_k^{\alpha_k}$ es un divisor del orden de $G$, basta tomar
% 	$H=H_1\times\cdots\times H_k$, 
% 	donde cada $H_j$ es un subgrupo normal del $p_j$-subgrupo de Sylow de $G$
% 	de orden $p_j^{\alpha_j}$. Para demostrar que $(4)\implies(1)$ simplemente
% 	se aplica la hipótesis a cada $p$-subgrupo de $G$ de orden maximal.
% \end{svgraybox}

\subsection{The Baumslag--Wiegold theorem}

The following result can be proved with elementary tools 
and was discovered 
in 2014. 

\begin{theorem}[Baumslag--Wiegold]
\index{Baumslag--Wiegold theorem}
Let $G$ be a finite group such that $|xy|=|x||y|$ for all $x,y\in G$ of coprime orders. 
Then $G$ is nilpotent. 
\end{theorem}

\begin{proof}
Let $p_1,\dots,p_n$ be the prime factors of $|G|$. For 
each 
$i\in\{1,\dots,n\}$, let $P_i\in\Syl_{p_i}(G)$. We first prove that 
$G=P_1\cdots P_n$. To prove the non-trivial inclusion, we need to show that 
the map
\[
	\psi\colon P_1\times\cdots\times P_n\to G,\quad
	(x_1,\dots,x_n)\mapsto x_1\cdots x_n
\]
is surjective. We first show that $\psi$ is injective: If 
$\psi(x_1,\dots,x_n)=\psi(y_1,\dots,y_n)$, then 
\[
x_1\cdots x_n=y_1\cdots y_n. 
\]
If $y_n\ne x_n$, then $x_1\cdots x_{n-1}=(y_1\cdots
y_{n-1})y_nx_n^{-1}$. Since $x_1\cdots x_{n-1}$ has order coprime with 
$p_n$ and $y_1\cdots y_{n-1}y_nx_n^{-1}$ has order a multiple of 
$p_n$, we get a contradiction. Thus  $x_n=y_n$. The same argument shows that 
$\psi$ is injective. Since $|P_1\times\cdots\times
P_n|=|G|$, we conclude that $\psi$ is bijective. In particular, 
$\psi$ is surjective. 

We now prove that each $P_j$ is normal in $G$. Let $j\in\{1,\dots,n\}$ and 
$x_j\in P_j$. Let $g\in G$ and $y_j=gx_jg^{-1}$.  Since $y_j\in G$,
we can write $y_j=z_1\cdots z_n$ with $z_k\in P_k$ for all $k$.  Since
the order of $y_j$ is a power of $p_j$, the element $z_1\cdots
z_n$ has order a power of $p_j$. Thus $z_k=1$ for all $k\ne j$. Moreover, 
$y_j=z_j\in P_j$. Since every Sylow subgroup of $G$ is normal in $G$, 
we conclude that $G$ is nilpotent. 
\end{proof}




\subsection{Frattini subgroup}

\begin{definition}
\index{Frattini subgroup}
Let $G$ be a group. If $G$ has maximal subgroups, 
the \textbf{Frattini subgroup} is the intersection 
$\Phi(G)$ of all the maximal subgroups of $G$. 
Otherwise, 
$\Phi(G)=G$. 
\end{definition}

\begin{exercise}
\label{xca:Phi(G)char}
Prove that $\Phi(G)$ is a characteristic subgroup of $G$. 
\end{exercise}

\begin{example}
Let $G=\Sym_3$. The maximal subgroups of $G$ are 
\[
M_1=\langle (123)\rangle,
\quad
M_2=\langle (12)\rangle,
\quad
M_3=\langle (23)\rangle,
\quad
M_4=\langle (13)\rangle.
\]
Hence $\Phi(G)=\{1\}$. 
\end{example}

\begin{example}
Let $G=\langle g\rangle\simeq C_{12}$. The subgroups of $G$ are 
\[
\{1\},\quad
\langle g^6\rangle\simeq C_2,\quad
\langle g^4\rangle\simeq C_3,\quad
\langle g^3\rangle\simeq C_4,\quad
\langle g^2\rangle\simeq C_6,\quad
G.
\]
Let us draw a picture:
\[\begin{tikzcd}
	& {C_{12}} \\
	{C_4} && {C_6} \\
	& {C_2} && {C_3} \\
	&& {\{1\}}
	\arrow[no head, from=4-3, to=3-2]
	\arrow[no head, from=4-3, to=3-4]
	\arrow[no head, from=3-4, to=2-3]
	\arrow[no head, from=2-3, to=1-2]
	\arrow[no head, from=3-2, to=2-1]
	\arrow[no head, from=2-1, to=1-2]
	\arrow[no head, from=3-2, to=2-3]
\end{tikzcd}\]
The maximal subgroups of $G$ are 
$\langle g^3\rangle\simeq C_4$ and $\langle
g^2\rangle\simeq C_6$. Hence $\Phi(G)=\langle g^3\rangle\cap \langle
g^2\rangle=\langle g^6\rangle\simeq C_2$. 
Let us see how to do this calculation with the computer:
\begin{lstlisting}
gap> G = CyclicGroup(12);;
gap> StructureDescription(FrattiniSubgroup(G));
"C2"
\end{lstlisting} 
\end{example}

\begin{lemma}[Dedekind]
\label{lem:Dedekind}
\index{Dedekind's!lemma}
Let $H$, $K$ and $L$ be subgroups of $G$ 
such that $H\subseteq L\subseteq G$. Then 
$HK\cap L=H(K\cap L)$.
\end{lemma}

\begin{proof}
One inclusion is trivial. Let us prove then that 
$HK\cap L\subseteq H(K\cap L)$. If 
$x=hk\in HK\cap L$ with $x\in L$, $h\in H$ and $k\in K$, then 
$k=h^{-1}x\in L\cap K$, as $H\subseteq L$. Thus $x=hk\in H(L\cap
	K)$.
\end{proof}

\begin{lemma}
\label{lem:G=HPhi(G)}
Let $G$ be a finite group and $H$ be a subgroup of $G$ such that 
$G=H\Phi(G)$. Then $H=G$.
\end{lemma}

\begin{proof}
If $H\ne G$, let $M$ be a maximal subgroup of $G$ such that 
$H\subseteq M$. Since $\Phi(G)\subseteq M$, $G=H\Phi(G)\subseteq M$, a 
contradiction. 
\end{proof}

\begin{proposition}
\label{pro:phi(N)phi(G)}
Let $N$ be a normal subgroup of a finite group $G$. Then 
$\Phi(N)\subseteq\Phi(G)$.
\end{proposition}

\begin{proof}
Since $\Phi(N)$ is characteristic in $N$ and $N$ 
is normal in $G$, $\Phi(N)$ is normal in $G$. 
If there exists a maximal subgroup $M$ such that 
$\Phi(N)\not\subseteq M$, then $\Phi(N)M=G$. (This happens
because, otherwise, $M=\Phi(N)M\supseteq\Phi(N)$.) By Dedekind's lemma (with  $H=\Phi(N)$, $K=M$ and $L=N$), 
\[
N=G\cap N=(\Phi(N)M)\cap N=\Phi(N)(M\cap N).
\]
By Lemma \ref{lem:G=HPhi(G)} (with $G=N$ and $H=M\cap N$), 
$\Phi(N)\subseteq N\subseteq M$, a contradiction. 
Hence every maximal subgroup of $G$ contains $\Phi(N)$ and therefore 
$\Phi(G)\supseteq\Phi(N)$. 
\end{proof}

The following proposition states that the 
elements of the Frattini subgroup are the \textbf{non-generators} of 
the group. 

\begin{proposition}
	\label{pro:nongenerators}
	Let $G$ be a finite group. Then 
 	\[
	\Phi(G)=\{x\in G:\text{if $G=\langle x,Y\rangle$ for some $Y\subseteq G$, then $G=\langle Y\rangle$}\}.
	\]
\end{proposition}

\begin{proof}
We first prove $\supseteq$. Let $x\in \{x\in G:\text{if $G=\langle x,Y\rangle$ for some $Y\subseteq G$, then $G=\langle Y\rangle$}\}$. If $M$ is a maximal subgroup of $G$ such that $x\not\in M$, then, since $G=\langle
	x,M\rangle$, we obtain that $G=\langle M\rangle=M$, a contradiction. Thus $x\in M$ for all maximal subgroup $M$ of $G$. Hence 
 $x\in \Phi(G)$. 

We now prove $\subseteq$. Let $x\in\Phi(G)$ be such that $G=\langle
	x,Y\rangle$ for some subset $Y$ of $G$. If $G\ne \langle Y\rangle$,
	there exists a maximal subgroup $M$ such that $\langle Y\rangle\subseteq M$. Since
	$x\in M$, $G=\langle x,Y\rangle\subseteq M$, a contradiction. 
\end{proof}

\begin{example}
For a prime number $p$, let $G$ be an elementary $p$-group, that is 
$G\simeq C_p^m$ for some $m\geq1$. Assume that 
	$G=\langle x_1\rangle\times\cdots\times\langle x_m\rangle$ with $\langle x_j\rangle\simeq C_p$.  
	We claim that $\Phi(G)$ is trivial. 
	For $j\in\{1,\dots,m\}$, let $n_j\in\{1,\dots,p-1\}$. Since 
	\[
	\{x_1,\dots,x_{j-1},x_j^{n_j},x_{j+1},\dots,x_m\}
	\]
	generates $G$ and $\{x_1,\dots,x_{j-1},x_{j+1},\dots,x_m\}$ does not, 
	$x_j^{n_j}\not\in\Phi(G)$ by Proposition \ref{pro:nongenerators}. 
	Hence $\Phi(G)=\{1\}$.
\end{example}

\begin{theorem}[Frattini]
\label{thm:Frattini}
\index{Frattini's!theorem}
Let $G$ be a finite group. Then $\Phi(G)$ is nilpotent.
\end{theorem}

\begin{proof}
Let $P\in\Syl_p(\Phi(G))$ for some prime number $p$. Since $\Phi(G)$ is normal in 
$G$, Lemma~\ref{lem:Frattini_argument} (Frattini's argument) implies that 
$G=\Phi(G)N_G(P)$. By Lemma~\ref{lem:G=HPhi(G)},
$G=N_G(P)$. Since every Sylow subgroup of $\Phi(G)$ is normal in $G$,
$\Phi(G)$ is nilpotent. 
\end{proof}

\begin{exercise}
\label{xca:G/M}
Let $G$ be a group and $M$ be a normal subgroup of $G$. Prove that if  
$M$ is maximal, then 
$G/M$ is cyclic of prime order. 
\end{exercise}

% \begin{svgraybox}
% 	Por el teorema de la correspondencia, $G/M$ no tiene subgrupos no trivales.
% 	Luego $G/M\simeq C_p$ para algún primo $p$.
% \end{svgraybox}

\begin{theorem}[Gasch\"utz]
	\label{thm:Gaschutz}
	\index{Gasch\"utz'!theorem}
	If $G$ is a finite group, then 
	\[
	[G,G]\cap Z(G)\subseteq\Phi(G).
	\]
\end{theorem}

\begin{proof}
Let $D=[G,G]\cap Z(G)$. Assume that $D$ is not contained in $\Phi(G)$.
Since $\Phi(G)$ is contained in every maximal subgroup of $G$, 
there is a maximal subgroup $M$ of $G$ not containing $D$. Then
$G=MD$. Since $D\subseteq Z(G)$, $M$ is normal in $G$, as 
	$g=md\in G=MD$ implies 
	\[
		gMg^{-1}=(md)Md^{-1}m^{-1}=mMm^{-1}=M.
	\]
	Since $G/M$ is cyclic of prime order, 
	$G/M$ is, in particular, abelian and hence $[G,G]\subseteq M$. Therefore 
	$D\subseteq [G,G]\subseteq M$, a contradiction.
\end{proof}

\begin{lemma}
\label{lem:N_G(H)=H}
Let $G$ be a finite group and $P\in\Syl_p(G)$. If $H$ is a subgroup of $G$ such that
$N_G(P)\subseteq H$, then $N_G(H)=H$.
\end{lemma}

\begin{proof}
Let $x\in N_G(H)$. Since $P\in\Syl_p(H)$ and $Q=xPx^{-1}\in\Syl_p(H)$, the second Sylow's theorem 
implies that there exists 
$h\in H$ such that $hQh^{-1}=(hx)P(hx)^{-1}=P$. Then $hx\in
N_G(P)\subseteq H$ and hence $x\in H$. 
\end{proof}

\begin{theorem}[Wielandt]
\label{thm:Wielandt}
\index{Wielandt's!nilpotency theorem}
A finite group $G$ is nilpotent if and only if 
$[G,G]\subseteq\Phi(G)$.
\end{theorem}

\begin{proof}
Assume that $[G,G]\subseteq\Phi(G)$. Let $P\in\Syl_p(G)$. If $N_G(P)\ne
G$, then $N_G(P)\subseteq M$ for some maximal subgroup $M$ of $G$. If 
$g\in G$ and $m\in M$, then, since 
\[
	gmg^{-1}m^{-1}=[g,m]\in [G,G]\subseteq\Phi(G)\subseteq M,
\]
$M$ is normal in $G$. Furthermore $N_G(P)\subseteq M$. 
By Lemma~\ref{lem:N_G(H)=H},
\[
G=N_G(M)=M,
\]
a contradiction.
Thus $N_G(P)=G$ and every Sylow subgroup of $G$ si normal in $G$. Therefore 
$G$ is nilpotent. 

Conversely, assume that $G$ is nilpotent. Let $M$ be a maximal subgroup of $G$.
Since $M$ is normal in $G$ and maximal, $G/M$ has no proper non-trivial subgroups. 
Then $G/M\simeq C_p$ for some prime number $p$. In particular, $G/M$ is abelian
and $[G,G]\subseteq M$. Since $[G,G]$ is contained in every maximal subgroup of $G$, 
$[G,G]\subseteq\Phi(G)$.
\end{proof}

\begin{theorem}
\label{the:G/phi(G)}
A finite group $G$ is nilpotent if and only if 
$G/\Phi(G)$ is nilpotent. 
\end{theorem}

%%% TODO: la demostración no está bien explicada!
\begin{proof}
If $G$ is nilpotent, then $G/\Phi(G)$ is nilpotent. Conversely, assume that 
$G/\Phi(G)$ is nilpotent. Let $P\in\Syl_p(G)$. Since 
$\Phi(G)P/\Phi(G)\in\Syl_p(G/\Phi(G))$ and $G/\Phi(G)$ is nilpotent,
$\Phi(G)P/\Phi(G)$ is a normal subgroup of $G/\Phi(G)$. By the correspondence theorem, 
$\Phi(G)P$ is a normal subgroup of $G$.
Since $P\in\Syl_p(\Phi(G)P)$, Frattini's argument 
(Lemma~\ref{lem:Frattini_argument}) implies that 
\[
G=\Phi(G)PN_G(P)=\Phi(G)N_G(P), 
\]
as $P\subseteq N_G(P)$. Thus $G=N_G(P)$ by Lemma~\ref{lem:G=HPhi(G)}). Hence 
$P$ is normal in $G$ and therefore $G$ is nilpotent. 
\end{proof}

